<html>

<!-- Mirrored from openbook.rheinwerk-verlag.de/linux_unix_programmierung/Kap14-007.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 May 2017 19:46:01 GMT -->
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Linux-UNIX-Programmierung – 14.8 Farben mit X</title>
<meta name="title" content="Linux-UNIX-Programmierung">
<meta name="author" content="J&uuml;rgen Wolf">
<meta name="publisher" content="Rheinwerk Verlag GmbH 2006">
<meta name="copyright" content="Rheinwerk Verlag GmbH 2006">
<meta name="description" content="Linux-UNIX-Programmierung - Das umfassende Handbuch – 2., aktualisierte und erweiterte Auflage 2006 – ISBN 3-89842-749-8">
<meta name="audience" content="Alle">
<meta name="robots" content="INDEX,FOLLOW">
<meta http-equiv="content-language" content="de">
<link rel="stylesheet" type="text/css" href="common/rw_open.css">
<link rel="prev" href="Kap14-006.html">
<link rel="next" href="Kap14-008.html"><script type="text/javascript" language="JavaScript"><!--
function OpenWin(url,name,height,width)
{
  var InfoWin = window.open(url,name,"directories=0,height="+height+",width=" + width + ",hotkeys=0,location=0,menubar=0,resizable=1,screenX=150,screenY=10,left=150,top=10,scrollbars=1,status=1,titlebar=0,toolbar=0");
  InfoWin.focus();
}
//--></script></head>
<body vlink="#000099" link="#000099" alink="#000099">
<table width="100%" height="74" border="0" cellpadding="0" cellspacing="0" bgcolor="#00549d">
<tr>
<td height="74" valign="bottom" colspan="2"><a href="https://www.rheinwerk-verlag.de/openbook/?GPP=oplup"><img src="common/rw_openbook.gif" width="200" height="56" border="0" alt="Rheinwerk Computing < openbook >"></a></td>
<td width="80" height="74">
<a href="https://www.rheinwerk-verlag.de/?GPP=oplup"><img src="common/rw_computing.gif" border="0" alt="Rheinwerk Computing - Professionelle B&uuml;cher. Auch f&uuml;r Einsteiger."></a>
</td>
</tr>
</table><div align="right"><a href="https://www.rheinwerk-verlag.de/?GPP=oplup" class="navnav">Professionelle B&uuml;cher. Auch f&uuml;r Einsteiger</a></div><br /><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="156" valign="top"><table border="0" cellpadding="0" cellspacing="0" width="100%" align="left">
<tr>
<td colspan="2" class="nav1" align="left" valign="top" height="150">
<table class="tbl1" width="150" border="0" cellpadding="3" cellspacing="0">
<tr>
<td class="tbl2" height="25"><A class="nav" href="index-2.html">Inhaltsverzeichnis</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap00a-000.html#Xxx999195">Vorwort des Autors</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap00b-000.html#Xxx999195">Vorwort der Fachgutachter</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap01-000.html#Xxx999235">1 Einf&uuml;hrung</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap02-000.html#Xxx999234">2 E/A-Funktionen</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap03-000.html#Xxx999234">3 Attribute von Dateien und Verzeichnissen</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap04-000.html#Xxx999234">4 Zugriff auf Systeminformationen</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap05-000.html#Xxx999234">5 Devices – eine einfache Verbindung zur Hardware</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap06-000.html#Xxx999234">6 System- und Benutzerdateien</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap07-000.html#Xxx999234">7 D&auml;monen, Zombies und Prozesse</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap08-000.html#Xxx999235">8 Signale</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap09-000.html#Xxx999235">9 IPC – Interprozesskommunikation</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap10-000.html#Xxx999234">10 Threads</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap11-000.html#Xxx999235">11 Netzwerkprogrammierung</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap12-000.html#Xxx999236">12 MySQL und PostgreSQL</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap13-000.html#Xxx999235">13 Terminal E/A und Benutzerschnittstellen f&uuml;r die Konsole</A></td>
</tr>
<tr>
<td><A class="navnavh" href="Kap14-000.html#Xxx999235">14 Xlib – X Window-Programmierung</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap15-000.html#Xxx999235">15 GTK+</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap16-000.html#Xxx999235">16 SDL</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap17-000.html#Xxx999247">17 Werkzeuge f&uuml;r Programmierer</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap18A-000.html#Xxx999248">A Sicherheit unter Linux</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap18B-000.html#Xxx999245">B Funktionsreferenz</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap18C-000.html#Xxx999245">C Inhalt der Buch-CD</A></td>
</tr>
<tr>
<td><A class="navnav" href="stichwort.html#Xxx537584">Index</A></td>
</tr>
<tr><td><br /><!--<a class="navnav" href="http://download.galileo-press.de/openbook/lup/galileocomputing_linux_unix_programmierung.zip"><strong>Download:</strong><br />- ZIP, ca. 4,3 MB</a></td></tr>
<tr><td><a class="navnav" href="https://www.rheinwerk-verlag.de/1137/?GPP=oplup">Buch bestellen</a></td></tr>
<tr><td>--><a class="navnav" href="https://www.rheinwerk-verlag.de/feedback/">Ihre Meinung?</a><br /><br /></td></tr>
</table></td>
</tr>

</table>
</td>
<td width="10"><img src="common/spacer10.gif" width="10" height="10"></td>
<td width="85%" valign="top" align="center">
<div align="center">
<table width="98%" border="0" cellspacing="0" cellpadding="0" bgcolor="#FFFFFF">
<tr>
<td width="100%" class="start" colspan="1" height="22" align="center">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20%"><a class="navnav" href="Kap14-006.html"> &lt;&lt; zur&uuml;ck</a></td>
<td width="59%">
<div align="center"><a href="https://www.rheinwerk-verlag.de/?GPP=oplup" class="navnav">Rheinwerk Computing /</a><a class="navnav" href="https://www.rheinwerk-verlag.de/openbook/?GPP=oplup"> &lt;openbook&gt; /</a> <a href="index-2.html" class="navnav"> Linux-UNIX-Programmierung</a></div>
</td>
<td align="right" width="20%">
<div align="right"><a class="navnav" href="Kap14-008.html">vor &gt;&gt; </a></div>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="100%" valign="top">
<table width="100%" border="0" cellpadding="10" cellspacing="0" class="box">
<tr>
<td colspan="2"><a href="https://www.rheinwerk-verlag.de/1137/?GPP=oplup" class="buchtitel">Linux-UNIX-Programmierung</a><span class="autor"> von J&uuml;rgen Wolf</span><br><span class="untertitel">Das umfassende Handbuch – 2., aktualisierte und erweiterte Auflage 2006</span></td>
</tr>
<tr>
<td valign="top" width="90"><a href="https://www.rheinwerk-verlag.de/1137/?GPP=oplup"><img src="common/9783898427494.gif" border="0" alt="Buch: Linux-UNIX-Programmierung" title="Buch: Linux-UNIX-Programmierung" align="left"><br /><br /><span class="autor"><strong>Linux-UNIX-Programmierung</strong><br />1216 S., mit CD, 49,90 Euro<br />Rheinwerk Computing<br />ISBN 3-89842-749-8</span></a></a></td>
<td width="80%">
<table border="0">
<tr>
<td valign="baseline"><img src="common/pfeil_u.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="3" class="kap"><b>Kapitel <a href="Kap14-000.html#RxxKap14000040004981F014100">14 Xlib – X Window-Programmierung</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap14-000.html#RxxKap14000040004981F014105">14.1 Architektur von X</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-000.html#RxxKap14000040004981F01410F">14.1.1 Pufferung</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-000.html#RxxKap14000040004981F014114">14.1.2 Ressourcen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap14-001.html#RxxKap14001040004B51F018100">14.2 X Toolkit</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap14-002.html#RxxKap14002040004B61F03B100">14.3 Der Window-Manager</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap14-003.html#RxxKap14003040004B71F042100">14.4 Fenster mit X</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-003.html#RxxKap14003040004B71F04210E">14.4.1 Verbindung herstellen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-003.html#RxxKap14003040004B71F042117">14.4.2 Fenster definieren</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-003.html#RxxKap14003040004B71F042177">14.4.3 Informationen f&uuml;r den Window-Manager</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-003.html#RxxKap14003040004B71F04217B">14.4.4 Fenster anzeigen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-003.html#RxxKap14003040004B71F042180">14.4.5 Fenster und X-Verbindung beenden</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-003.html#RxxKap14003040004B71F042183">14.4.6 Das Grundger&uuml;st als Quellcode</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap14-004.html#RxxKap14004040004B81F029100">14.5 Events</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-004.html#RxxKap14004040004B81F029104">14.5.1 Event-Maske setzen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-004.html#RxxKap14004040004B81F029180">14.5.2 Event-Bearbeitungsschleife</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-004.html#RxxKap14004040004B81F029187">14.5.3 Abarbeitung der Events</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-004.html#RxxKap14004040004B81F02918A">14.5.4 Tastatur-Event</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-004.html#RxxKap14004040004B81F029190">14.5.5 Mausbutton-Event</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-004.html#RxxKap14004040004B81F0291A2">14.5.6 Expose-Event</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-004.html#RxxKap14004040004B81F0291A6">14.5.7 EnterWindowMask – LeaveWindowMask</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-004.html#RxxKap14004040004B81F0291A8">14.5.8 Listing zu den Events</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap14-005.html#RxxKap14005040004B91F038100">14.6 Grafik mit X</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-005.html#RxxKap14005040004B91F038105">14.6.1 Grafikprimitive – Zeichenfunktionen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap14-006.html#RxxKap14006040004BA1F040100">14.7 Text mit X</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-006.html#RxxKap14006040004BA1F040102">14.7.1 Fonts benutzen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-006.html#RxxKap14006040004BA1F04010E">14.7.2 &Uuml;bersicht zu den Fonts</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-006.html#RxxKap14006040004BA1F040181">14.7.3 H&ouml;he und Breite ermitteln</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-006.html#RxxKap14006040004BA1F040187">14.7.4 Listing mit Textausgabe</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a class="navh2" href="#RxxKap14007040004BB1F032100">14.8 Farben mit X</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap14-008.html#RxxKap14008040004BC1F019100">14.9 Beispiel – ein Button mit X</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap14-009.html#RxxKap14009040004BD1F036100">14.10 Wozu kann ich denn nun die Xlib in der Praxis verwenden?</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap14-010.html#RxxKap14010040004BE1F03A100">14.11 X und X-Toolkits – Einf&uuml;hrung</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap14-011.html#RxxKap14011040004BF1F01F100">14.12 Toolkit-Programmierung</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-011.html#RxxKap14011040004BF1F01F103">14.12.1 Widgets</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap14-012.html#RxxKap14012040004C01F020100">14.13 Ein einfaches Fenster mit einem Button</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap14-012.html#RxxKap14012040004C01F02010E">14.13.1 Ressourcen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap14-013.html#RxxKap14013040004C11F018100">14.14 Zwei Buttons in Box- und Form-Widget mit Textausgabe (Label-Widget)</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap14-014.html#RxxKap14014040004C21F037100">14.15 editres – Widget-Hierarchie</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap14-015.html#RxxKap14015040004C31F020100">14.16 Texteingabe mit Dialog-Widget</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap14-016.html#RxxKap14016040004C41F01E100">14.17 X-Toolkits meets Xlib</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap14-017.html#RxxKap14017040004C51F045100">14.18 Zusammenfassung</a></b></td>
</tr>
</table><br></td>
</tr>
</table>
<table width="100%" cellpadding="20" cellspacing="0" border="0" bgcolor="#eeeeee">
<tr>
<td>
<a name="t21"></a><a name="t2t31"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div>
<h2 class="t2">14.8 <a id="RxxKap14192FarbenmitX" name="RxxKap14192FarbenmitX"></a>Farben mit<a id="RxxKap14007040004BB1F032100" name="RxxKap14007040004BB1F032100"></a> X 
      <img src="common/15x15leer.gif" width="15" height="15" border="0" alt="top"><img src="common/15x15leer.gif" width="15" height="15" border="0" alt="top"></h2>
<br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<tr>
<td class="tabellentext" bgcolor="#000000">
<p class="BStandard"><a id="Xxx999238" name="Xxx999238"></a><b>Hinweis   </b>Verzeihen Sie mir hierbei gleich zu Beginn, dass ich das Thema Farben ein wenig zusammengeschrumpft habe. Das Ziel liegt hier vorwiegend in der Verwendung der Farben.</p>
</td>
</tr>
</table><br>
<p>Die Farbe des Vorder- bzw. Hintergrundes eines Fensters ist Teil der Struktur des grafischen Kontextes <span class="listing">GC</span>. Verwendet haben Sie diesen bereits mit den Funktionen <span class="listing">XSetForeground()<a id="Xxx999242" name="Xxx999242"></a></span> und <span class="listing">XSetBackground()<a id="Xxx999243" name="Xxx999243"></a></span> wie folgt:</p>
<pre>   XSetForeground(display, mygc, farbe1);
   XSetBackground(display, mygc, farbe2);</pre>
<p>Bei <span class="listing">farbe1</span> und <span class="listing">farbe2</span> handelt es sich um einfache Integerzahlen. Was f&uuml;r Werte Sie nun f&uuml;r welche Farbe verwenden, ist wiederum nicht so einfach, da X ja unterschiedliche Server-Hardware unterst&uuml;tzt. Im Folgenden wird daher auf die einfachsten Grundlagen eingegangen.</p>
<p>Um eine Farbe auf dem Monitor darzustellen, wird ein Zahlentripel (Rot, Gr&uuml;n, Blau, kurz RGB) mit Intensit&auml;tswerten zwischen 0 und 255 verwendet (als Beispiel 8-Bit-Wert mit 256 Farben). Die Werte (R = 0, G = 0, B = 0) entsprechen der Farbe Schwarz, und die Werte (R = 255, G = 255, B = 255) stehen f&uuml;r eine wei&szlig;e Farbe.</p>
<p><a id="Xxx999247" name="Xxx999247"></a>Realisiert wird diese Farbdarstellung bei X mit einer Colormap. Eine Colormap besteht somit aus 256 RGB-Tripeln, genannt Colorcells. <span class="listing">XSetForeground()</span> mit <span class="listing">farbe1=11</span> z. B. schaltet dann um auf Farbe Nr. 11. Wie diese Farbe aussieht, legt der RGB-Wert fest, der in dieser Zelle eingetragen ist. Im einfachsten Fall, den Sie hier behandeln, wird von allen Anwendungen eine gemeinsame Colormap benutzt (Shared Colors) – sie wird auch als Default Colormap bezeichnet. Bei den Shared Colors wird folgender Weg eingeschlagen:</p>
<p>Wenn die Farbzellen von Nr. 0 bis n-1 definiert sind, gibt man dem X-Server eine gew&uuml;nschte Farbe entweder als RGB-Wert oder in einer Stringform (dazu gleich mehr) an. Wenn eine Farbzelle bereits mit dieser Nummer verwendet wurde, dann wird einfach die Nummer dieser Zelle zur&uuml;ckgegeben. Existiert diese Farbe noch nicht, wird diese Zelle erst noch alloziiert – anschlie&szlig;end mit einem RGB-Wert versehen und zur&uuml;ckgegeben. Mehr als 256 Farben k&ouml;nnen dabei allerdings nicht pro Colormap definiert werden. Die Zelle kann auch wieder freigegeben und von derselben Anwendung neu belegt werden. Die Belegung der Colormap bleibt auch nach dem Ende der Anwendung erhalten und wird erst bei Beendigung des X-Servers gel&ouml;scht.</p>
<p>Jetzt folgen die Funktionen, die den eben beschriebenen Weg in der Praxis m&ouml;glich machen. Zuerst wird gew&ouml;hnlich die Funktion <span class="listing">DefaultColormap<a id="Xxx999251" name="Xxx999251"></a>(display,</span> <span class="listing">screen)</span> aufgerufen, womit die Struktur <span class="listing">Colormap</span> mit den Standardinformationen belegt wird, die zur weiteren Arbeit n&ouml;tig sind.</p>
<br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<tr>
<td class="tabellentext" bgcolor="#000000">
<p class="BStandard"><b>Hinweis   </b>Ob Ihre Hardware &uuml;berhaupt Farbe anzeigen kann (so etwas soll es auch noch geben), k&ouml;nnen Sie sich mit der Funktion <span class="listing">DefaultDeep(display,</span> <span class="listing">screen)</span> ermitteln lassen. Solange der R&uuml;ckgabewert <span class="listing">&gt;1</span> ist, k&ouml;nnen Sie Farbe darstellen.</p>
</td>
</tr>
</table><br>
<p>Jetzt k&ouml;nnen Sie den RGB-Wert in einer Zelle der Colormap mit der Funktion <span class="listing">XAllocColor()<a id="Xxx999257" name="Xxx999257"></a></span> eintragen:</p>
<pre>    Display *display; 
    Colormap cmap;
    XColor color;
    Status result;
    ...
    color.red = 16276; color.green=54271; color.blue=2000;
    result = XAllocColor(display, cmap, &amp;color);
    if (result == 0)
       /* Fehler bei XAllocColor() */</pre>
<p><span class="listing">XColor</span> ist eine Struktur, bestehend (u. a.) aus den <span class="listing">unsigned</span> <span class="listing">short</span>-Werten <span class="listing">red</span>, <span class="listing">green</span>, <span class="listing">blue</span> sowie einem <span class="listing">unsigned</span> <span class="listing">long</span>-Wert <span class="listing">pixel</span>. <span class="listing">XAllocColor()</span> benutzt <span class="listing">red</span>, <span class="listing">green</span>, <span class="listing">blue</span> als Input und liefert <span class="listing">pixel</span> als Nummer einer neuen (oder auch alten, falls schon definiert) Farbzelle zur&uuml;ck.</p>
<p>Es wurde bereits erw&auml;hnt, dass die Farbwerte auch als Strings &uuml;bergeben werden k&ouml;nnen. Dazu kann entweder die Funktion <span class="listing">XAllocNamedColor()<a id="Xxx999261" name="Xxx999261"></a></span> oder die Funktion <span class="listing">XLookupColor()</span> verwendet werden. Die Funktion <span class="listing">XAllocNamedColor()<a id="Xxx999262" name="Xxx999262"></a></span> funktioniert im Prinzip wie die Funktion <span class="listing">XAllocColor()</span>, nur dass der Name der Farbe hierbei direkt benutzt wird:</p>
<pre>Display *display; 
Colormap cmap;
XColor exakt, color;
Status result;
...
result=XAllocNamedColor(mydisplay, cmap, "blue", &amp;exact, &amp;color);</pre>
<p>Die Funktion tr&auml;gt das zum Farbnamen geh&ouml;rige RGB-Tripel wie <span class="listing">XAllocColor()</span> in eine Farbzelle ein. <span class="listing">exact</span> liefert in den Variablen <span class="listing">exact.red</span>, <span class="listing">exact.green</span>, <span class="listing">exact.blue</span> die exakten RGB-Werte zur&uuml;ck, die dieser Farbe entsprechen – <span class="listing">exact.pixel</span> bleibt undefiniert. Die Struktur <span class="listing">XColor</span> enth&auml;lt neben einem m&ouml;glichst gut an <span class="listing">exact</span> angen&auml;herten RGB-Wert die alloziierte Zellennummer in <span class="listing">color.pixel</span>.</p>
<p>Eine zweite Alternative stellt die Funktion <span class="listing">XLookupColor()</span> zur Verf&uuml;gung, die anschlie&szlig;end im Beispiel demonstriert wird. Nat&uuml;rlich setzt die Verwendung von <span class="listing">XLookupColor()</span> ein anschlie&szlig;endes <span class="listing">XAllocColor()</span> voraus.</p>
<p>Die Umsetzung der Namen in RGB-Tripel erfolgt &uuml;ber eine kleine Datenbank mit 8-Bit-RGB-Werten. Die zugeh&ouml;rige Textdatei hei&szlig;t <span class="listing">rgb.txt</span> und befindet sich gew&ouml;hnlich im Verzeichnis <span class="listing">/usr/lib/X11</span>:</p>
<pre>$  cat /usr/lib/X11/rgb.txt | less
255 250 250             snow
248 248 255             ghost white
248 248 255             GhostWhite 
... 
139   0   0             DarkRed
144 238 144             light green
144 238 144             LightGreen</pre>
<p>Ben&ouml;tigen Sie den RGB-Wert einer Zelle, so k&ouml;nnen Sie diesen mit der Funktion <span class="listing">XQueryColor()<a id="Xxx999269" name="Xxx999269"></a></span> ermitteln.</p>
<pre>    Display *display; 
    Colormap cmap;
    XColor color;
    ...
    color.pixel = 117;
    XQueryColor(mydisplay, cmap, &amp;color);</pre>
<p>Die Parameter werden genau umgekehrt zu <span class="listing">XAllocColor()</span> benutzt: Die Zellennummer wird in <span class="listing">color.pixel</span> &uuml;bergeben, zur&uuml;ck kommt das eingetragene RGB-Tripel in <span class="listing">color.red</span>, <span class="listing">color.green</span> und <span class="listing">color.blue</span>.</p>
<p>Jetzt k&ouml;nnen Sie mithilfe des Grafikkontexts <span class="listing">GC</span> die alloziierte Farbe mit Funktionen wie <span class="listing">XSetForeground()</span> oder <span class="listing">XSetBackground()</span> verwenden.</p>
<p>Um am Ende die Farbzelle einer Colormap wieder freizugeben, m&uuml;ssen Sie die Funktion <span class="listing">XFreeColors()<a id="Xxx999274" name="Xxx999274"></a></span> verwenden. Es wird lediglich der Speicherplatz freigegeben; der Inhalt bleibt weiterhin unver&auml;ndert bis zum Ende des X-Servers erhalten.</p>
<pre>    Display *display; 
    Colormap cmap;
    XColor color;
    unsigned long pixels[MAX];
    int npixel;
    ...
    XFreeColors(mydisplay, cmap, pixels, MAX, 0);</pre>
<p><span class="listing">MAX</span> definiert hier, wie viele Eintr&auml;ge in der Colormap wieder freigegeben werden sollen. Die Zellennummern m&uuml;ssen in dem Feld <span class="listing">pixels</span> ab Element 0 eingetragen werden. Ist <span class="listing">number</span> <span class="listing">=</span> <span class="listing">1</span>, so reicht eine einfache Variable f&uuml;r <span class="listing">pixels</span> aus – im Unterprogrammaufruf muss allerdings dann <span class="listing">&amp;pixels</span> stehen. Wenn Sie versuchen, eine Zelle freizugeben, die Sie nicht alloziiert haben, bricht der X-Server das Programm mit einer Fehlermeldung ab.</p>
<p>Hier nochmals im Schnell&uuml;berblick die einzelnen Schritte, um Farben zu verwenden:</p>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"> Farbe vorhanden – <span class="listing">DefaultDeep()</span> (optional)</td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"> Struktur Colormap mit Standardinformationen f&uuml;ttern – <span class="listing">DefaultColormap()</span></td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"> Umsetzen eines Namens in ein RGB-Tripel – <span class="listing">XLookupColor()</span> (falls n&ouml;tig)</td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"> RGB-Wert in einer Zelle der <span class="listing">Colormap</span> eintragen - <span class="listing">XAllocColor()</span> oder <span class="listing">XAllocNamedColor()</span></td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"> Farbe mit Grafikkontext verwenden – z. B. <span class="listing">XSetForeground()</span> oder <span class="listing">XSetBackground()</span></td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"> Farbzelle einer <span class="listing">Colormap</span> wieder freigeben – <span class="listing">XFreeColors()</span></td>
</tr>
</table>
<p>Das folgende Listing zeigt Ihnen die hier vorgestellten Funktionen in einer Funktion namens <span class="listing">setcolourvianame()</span> verpackt im Einsatz. Als Vorlage dient wieder das Listing vom Beispiel zuvor, nur dass diesmal die Grafikprimitiven in Farbe gezeichnet wurden.</p>
<pre><a id="Xxx999285" name="Xxx999285"></a>/* xfont_Color.c */
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;X11/keysym.h&gt;
#include &lt;X11/Xlib.h&gt;
#include &lt;X11/Xutil.h&gt;
#include "my_delay.h"
#define WINDOW_WIDTH 600
#define WINDOW_HEIGHT 450
/* Funktionsprototypen */
static int create_window (void);
static void process_event (XEvent report);
static void eventloop (void);
static void close_window (void);
extern int delay (int i);
extern int time_diff (void);
static void draw_graphics (void);
static void print_text (GC, int, int, char *, char *);
static void print_font_demo (void);
static void setcolourvianame (GC, char *);
/* Globale Variablen */
static unsigned int width, height;
static Display *display;
static int screen;
static int depth;
static Window win; 
/* Schriftarten */
static char *my_fonts[] = {
   "-adobe-times-bold-r-normal--18*",
   "-adobe-times-bold-r-normal--12*",
   "-b&amp;h-lucida-medium-r-normal-*-*-180-*-*-*-*-*-*",
   "-*-times-*-*-*-*-*-240-*-*-*-*-*-*"
};
enum{ ADOBE_BOLD_18, ADOBE_BOLD_12, LUCIA_NORMAL, TIMES };
/* Funktion erzeugt ein Fenster */
static int create_window (void) {
  char *window_name = "Farbe kommt ins Spiel";
  char *icon_name   = "window";
  static XSizeHints size_hints;
  Window rootwin;
  width = WINDOW_WIDTH;
  height = WINDOW_HEIGHT;
  /* X-Sitzung &ouml;ffnen */
  display = XOpenDisplay (NULL);
  /* Fehler&uuml;berpr&uuml;fung */
  if (display == NULL) {
    printf ("Verbindung zum X-Server fehlgeschlagen?!?\n");
    exit(EXIT_FAILURE);
  }
  /* Standardbildschirm eines Displays */
  screen = XDefaultScreen (display);
  /* Standardtiefe des Screens - Anzahl der Ebenen */
  depth = XDefaultDepth (display, screen);
  rootwin = RootWindow (display, screen);
  win = XCreateSimpleWindow ( display, rootwin, 10, 10,
                              width, height, 5,
                              BlackPixel (display, screen),
                              WhitePixel (display, screen)  );
  size_hints.flags = PSize | PMinSize | PMaxSize;
  size_hints.min_width  = width;
  size_hints.max_width  = width;
  size_hints.min_height = height;
  size_hints.max_height = height;
  XSetStandardProperties ( display, win, window_name, icon_name,
                           None, 0, 0, &amp;size_hints);
  XSelectInput (display, win,
                ButtonPressMask | KeyPressMask | ExposureMask);
  XMapWindow (display, win);
  return 1;
}
static void close_window (void) {
  XCloseDisplay (display);
}
static void eventloop (void) {
  XEvent xev;
  int num_events;
  XFlush (display);
  num_events = XPending (display);
  while ((num_events != 0)) {
    num_events--;
    XNextEvent (display, &amp;xev);
    process_event (xev);
  }
}
static void process_event (XEvent report) {
  KeySym key;
  switch (report.type) {
  case Expose:      /* Expose-Event --&gt; Bild zeichnen */
    if (report.xexpose.count == 0) {
      draw_graphics ();
    }
    break;
  case KeyPress:
    key = XLookupKeysym (&amp;report.xkey, 0);
    switch (key) {
    case (XK_KP_4):
          case (XK_Left):
            case (XK_KP_Left):
                printf ("Links\n");
      break;
    case (XK_KP_6):
          case (XK_Right):
            case (XK_KP_Right):
                printf ("Rechts\n");
      break;
    case (XK_KP_8):
          case (XK_Up):
            case (XK_KP_Up):
                printf ("Nach oben\n");
      break;
    case (XK_KP_2):
          case (XK_Down):
            case (XK_KP_Down):
                printf ("Nach unten\n");
      break;
    default:
      break;
    }
    break;
  case ButtonPressMask:
    /* Rechte Maustaste gedr&uuml;ckt? */
    if (report.xbutton.button == 3)
      print_font_demo ();
    else
      printf ("Es wurde gedr&uuml;ckt:  %d\n",
         report.xbutton.button);
    break;
  default:
    break;
  }
}
static void draw_graphics (void) {
  GC mygc;                      /* neu: Grafikkontext */
  unsigned long black, white;   /* Nummern der Farben */
  int i;
  XPoint punkte[50];            /* Punkteschar */
  XPoint poly[4];               /* 4 Punkte fuer Polygon */
  /* Eine Schr&auml;ge mithilfe von Punkten zeichnen */
  for (i = 0; i &lt; 50; i++) {
    punkte[i].x = 470 + i;
    punkte[i].y = 200 + i;
  }
  /* geschlossenes Dreieck */
  poly[0].x = 200;
  poly[0].y = 200;   
  poly[1].x = 300;
  poly[1].y = 300;
  poly[2].x = 400;
  poly[2].y = 200;
  poly[3].x = 200;
  poly[3].y = 200;
  XMapRaised (display, win);   
  /* Farbnummern besorgen */
  black = BlackPixel (display, screen);
  white = WhitePixel (display, screen);
  /* Graphical Context erzeugen, Farben eintragen */
  mygc = XCreateGC (display, win, 0, 0);
  XSetForeground (display, mygc, black);
  XSetBackground (display, mygc, white);
  /* sicherheitshalber alles l&ouml;schen */
  XClearWindow (display, win);
  /* Ein Rechteck zeichnen */
  XDrawRectangle (display, win, mygc, 10, 50, 50, 50);
  print_text ( mygc, 10, 320, "1. XDrawRectangle()",
     my_fonts[ADOBE_BOLD_12]);
  /* Blaue Farbe setzen */
  setcolourvianame (mygc,  "blue");
  /* Einen rechteckigen Bereich mit Farbe f&uuml;llen */
  XFillRectangle (display, win, mygc, 110, 50, 50, 50);
  print_text ( mygc, 110, 240, "2. XFillRectangle()",
     my_fonts[ADOBE_BOLD_12]);
  /* Rote Farbe setzen */
  setcolourvianame (mygc,  "red");
  /* Einen Kreis zeichnen */
  XDrawArc (display, win, mygc, 210, 50, 50, 50, 0, 360 * 64);
  print_text ( mygc, 210, 320, "3. XDrawArc()",
     my_fonts[ADOBE_BOLD_12]);
  /* Gr&uuml;ne Farbe */
  setcolourvianame (mygc,  "green");
  /* Einen Kreisbereich f&uuml;llen */
  XFillArc (display, win, mygc, 310, 50, 50, 50, 0, 360 * 64);
  print_text ( mygc, 310, 240, "4. XFillArc()",
     my_fonts[ADOBE_BOLD_12]);
  /* Grau */
  setcolourvianame (mygc,  "grey");
  /* Eine Ellipse zeichnen */
  XDrawArc (display, win, mygc, 410, 50, 60, 40, 0, 360 * 64);
  print_text ( mygc, 410, 320, "5. XDrawArc()",
     my_fonts[ADOBE_BOLD_12]);
  /* violet */
  setcolourvianame (mygc,  "violet");
  /* Einen Ellipsenbereich f&uuml;llen */
  XFillArc (display, win, mygc, 510, 50, 60, 40, 0, 360 * 64);
  print_text ( mygc, 510, 240, "6. XFillArc()",
     my_fonts[ADOBE_BOLD_12]);
  setcolourvianame (mygc,  "grey50");
  /* Einen Halbkreis zeichnen */
  XDrawArc (display, win, mygc, 10, 200, 60, 40, 90*64, 180*64);
  print_text ( mygc, 10, 480, "7. XDrawArc()",
     my_fonts[ADOBE_BOLD_12]);
  setcolourvianame (mygc,  "grey25");
  /* Einen Halbkreis f&uuml;llen */
  XFillArc (display, win, mygc, 110, 200, 60, 40, 90*64,180*64);
  print_text ( mygc, 110, 380, "8. XFillArc()",
     my_fonts[ADOBE_BOLD_12]);
  setcolourvianame (mygc,  "yellow");
  /* ausgefuelltes Polygon bzw. Dreieck */
  XFillPolygon(display, win, mygc, poly, 4, 0, CoordModeOrigin);
  setcolourvianame (mygc,  "black");
  print_text ( mygc, 250, 520, "9. XFillPolygon()",
     my_fonts[ADOBE_BOLD_12]);
  setcolourvianame (mygc,  "aquamarine");
  /* Eine schr&auml;ge Linie mit Punkten */
  XDrawPoints(display, win, mygc, punkte, 50, CoordModeOrigin);
  print_text ( mygc, 470, 380, "10. XDrawPoints()",
     my_fonts[ADOBE_BOLD_12]);
  setcolourvianame (mygc,  "black");
  print_text (mygc, 150, 590,
     "Mit rechter Maustaste zum Font-Demo",
     my_fonts[ADOBE_BOLD_18]);
  XFlush (display);
  XFreeGC (display, mygc);   
}
/*  Die Funktionen print_text() und print_font_demo() &uuml;bernehmen 
 *  Sie bitte aus dem Listing xfont.c, oder Sie k&ouml;nnen auch das
 *  komplette Beispiel von der Buch-CD verwenden
 */
  
static void setcolourvianame (GC myGC, char *colourname) {
  /* genaue RGB-Komponenten der Farbe */
  XColor rgbcolour;     
  /* am n&auml;chsten liegende RGB-Farben der Hardware */
  XColor hwarecolour;
  int status;
  /* Colormap */
  Colormap  myColourmap;            
  int myDepth;
  myDepth = DefaultDepth (display, screen);
  myColourmap = DefaultColormap (display, screen);
  screen = DefaultScreen (display);
  if (myDepth &gt; 1) {
    status = XLookupColor (
       display, myColourmap,colourname,&amp;rgbcolour,&amp;hwarecolour );
    if (status != 0) {
      /* Farben f&uuml;r die Colormap reservieren */
      status = XAllocColor ( display, myColourmap, &amp;hwarecolour);
      if (status != 0) {
        /* Zeichenfarbe setzen */
        XSetForeground (display, myGC, hwarecolour.pixel );
      } 
      else {
        printf ("Kann Farbzelle f&uuml;r %s nicht ermitteln\n",
           colourname);
        printf ("Verwende stattdessen Schwarz\n");
        XSetForeground(display, myGC,BlackPixel(display,screen));
      }
    } 
    else {
      printf ("Kann Farbe %s nicht finden\n", colourname);
      printf ("Verwende stattdessen Schwarz\n");
      XSetForeground(display, myGC, BlackPixel(display, screen));
    }
  } 
  else {
    printf("Keine Farbe in in dieser Tiefe:%d ?!\n", myDepth);
    printf ("Verwende stattdessen Schwarz \n");
    XSetForeground (display, myGC, BlackPixel(display, screen));
  }
}
 
int main (int argc, char **argv) {
  int quit = 0;
  int pause = 0;
  int td;
  create_window ();
  gettimeofday (&amp;st, NULL);
  while (!quit) {
    gettimeofday (&amp;rt, NULL);
    td = time_diff ();
    pause = delay (FRAME_LEN - td + pause);
    st = rt;
    eventloop ();
  }
  close_window ();
  return EXIT_SUCCESS;
}</pre>
<p>Einen Screenshot kann ich mir hierbei ersparen, da die Grafiken im Buch in Schwarz-Wei&szlig; gedruckt sind (der Screenshot entspr&auml;che dem vom Listing zuvor nur mit farbiger Darstellung).</p>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="100%" class="start" colspan="1" height="22" align="center">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20%"><a class="navnav" href="Kap14-006.html"> &lt;&lt; zur&uuml;ck</a></td>
<td width="59%">
<div align="center"><a class="navnav" href="#">&lt;top&gt;</a></div>
</td>
<td align="right" width="20%">
<div align="right"><a class="navnav" href="Kap14-008.html">vor &gt;&gt; </a></div>
</td>
</tr>
</table>
</td>
</tr>
</table>
</div>
</td>
<td width="10" valign="top">&nbsp;&nbsp;</td>
<td width="160" valign="top">
    <table border="0" cellpadding="0" cellspacing="0" width="160">
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2">
                            &nbsp;<a href="https://www.rheinwerk-verlag.de/?GPP=oplup" class="navs">
                            <strong>Zum Katalog</strong></a>
                        </td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2">
                            <img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td><a href="https://www.rheinwerk-verlag.de/linux-unix-programmierung_1137/?GPP=oplup">
                                        <img src="common/749.gif"  border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux-UNIX-Programmierung" title="Zum Katalog: Linux-UNIX-Programmierung">
                                        <br /><strong>Linux-UNIX-<br />Programmierung</strong><br /><img src="common/pfeil_rechts5.gif" border="0" alt="">bestellen</a>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2"><strong>&nbsp;Ihre Meinung?</strong></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td>Wie hat Ihnen das &lt;openbook&gt; gefallen?<br /><a href="https://www.rheinwerk-verlag.de/feedback/"><img src="common/pfeil_rechts5.gif" border="0" alt="">Ihre Meinung</a>
                                    <br /><br /></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2">&nbsp;<a href="https://www.rheinwerk-verlag.de/?GPP=oplup" class="navs"><strong>Buchtipps</strong></a></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/linux-server_3685/?GPP=oplup">
                        <img src="common/3020.gif" width="78" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux-Server" title="Zum Katalog: Linux-Server"><br /><br /><br /><br /><br /><br /><br />&nbsp;Linux-Server</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/das-komplettpaket-lpic-1-lpic-2_3782/?GPP=oplup">
                        <img src="common/3529.gif" width="70" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Das Komplettpaket LPIC-1 &amp; LPIC-2" title="Zum Katalog: Das Komplettpaket LPIC-1 &amp; LPIC-2"><br /><br /><br /><br /><br /><br /><br />&nbsp;Das Komplettpaket<br />&nbsp;LPIC-1 &amp; LPIC-2</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/linux-hochverfugbarkeit_3420/?GPP=oplup">
                        <img src="common/2542.gif" width="70" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux-Hochverfügbarkeit" title="Zum Katalog: Linux-Hochverfügbarkeit"><br /><br /><br /><br /><br /><br /><br />&nbsp;Linux-<br />&nbsp;Hochverfügbarkeit</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/shell-programmierung_3345/?GPP=oplup">
                        <img src="common/2310.gif" width="69" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Shell-Programmierung" title="Zum Katalog: Shell-Programmierung"><br /><br /><br /><br /><br /><br /><br />&nbsp;Shell-<br />&nbsp;Programmierung</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/linux_3436/?GPP=oplup">
                        <img src="common/2591.gif" width="79" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux Handbuch" title="Zum Katalog: Linux Handbuch"><br /><br /><br /><br /><br /><br /><br />&nbsp;Linux Handbuch</a><br /><br /></td>
                    </tr>
                </table></td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2"><strong>&nbsp;Shopping</strong></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td><b>Versandkostenfrei</b> bestellen in Deutschland und &Ouml;sterreich<br /><a href="https://www.rheinwerk-verlag.de/hilfe/bestellung_6?GPP=oplup"><img src="common/pfeil_rechts5.gif" border="0" alt="">Info</a><br /><br /></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</td>
</tr>
</table>
<br /><br />
<hr width="70%" align="center">
<br />
<div align="center">
    <p class="standard">
        <strong>Copyright © Rheinwerk Verlag GmbH 2006</strong>
        <br />F&uuml;r Ihren privaten Gebrauch d&uuml;rfen Sie die Online-Version nat&uuml;rlich 
        ausdrucken. Ansonsten unterliegt das &lt;openbook&gt; denselben Bestimmungen, 
        wie die gebundene Ausgabe: Das Werk einschlie&szlig;lich aller seiner Teile ist 
        urheberrechtlich gesch&uuml;tzt. Alle Rechte vorbehalten einschlie&szlig;lich der 
        Vervielf&auml;ltigung, &Uuml;bersetzung, Mikroverfilmung sowie Einspeicherung und 
        Verarbeitung in elektronischen Systemen.
    </p>
    <br><a href="https://www.rheinwerk-verlag.de/">[Rheinwerk Computing]</a>
    <br /><br />Rheinwerk Verlag GmbH, Rheinwerkallee 4, 53227 Bonn, 
    Tel.: 0228.42150.0, Fax 0228.42150.77, 
    <a href="mailto:service@rheinwerk-verlag.de">service@rheinwerk-verlag.de</a>
</div>
<br /><br />
</body>

<!-- Mirrored from openbook.rheinwerk-verlag.de/linux_unix_programmierung/Kap14-007.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 May 2017 19:46:01 GMT -->
</html>
