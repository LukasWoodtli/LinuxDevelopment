<html>

<!-- Mirrored from openbook.rheinwerk-verlag.de/linux_unix_programmierung/Kap15-003.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 May 2017 19:46:13 GMT -->
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Linux-UNIX-Programmierung – 15.4 Grundlagen der GTK+-Programmierung</title>
<meta name="title" content="Linux-UNIX-Programmierung">
<meta name="author" content="J&uuml;rgen Wolf">
<meta name="publisher" content="Rheinwerk Verlag GmbH 2006">
<meta name="copyright" content="Rheinwerk Verlag GmbH 2006">
<meta name="description" content="Linux-UNIX-Programmierung - Das umfassende Handbuch – 2., aktualisierte und erweiterte Auflage 2006 – ISBN 3-89842-749-8">
<meta name="audience" content="Alle">
<meta name="robots" content="INDEX,FOLLOW">
<meta http-equiv="content-language" content="de">
<link rel="stylesheet" type="text/css" href="common/rw_open.css">
<link rel="prev" href="Kap15-002.html">
<link rel="next" href="Kap15-004.html"><script type="text/javascript" language="JavaScript"><!--
function OpenWin(url,name,height,width)
{
  var InfoWin = window.open(url,name,"directories=0,height="+height+",width=" + width + ",hotkeys=0,location=0,menubar=0,resizable=1,screenX=150,screenY=10,left=150,top=10,scrollbars=1,status=1,titlebar=0,toolbar=0");
  InfoWin.focus();
}
//--></script></head>
<body vlink="#000099" link="#000099" alink="#000099">
<table width="100%" height="74" border="0" cellpadding="0" cellspacing="0" bgcolor="#00549d">
<tr>
<td height="74" valign="bottom" colspan="2"><a href="https://www.rheinwerk-verlag.de/openbook/?GPP=oplup"><img src="common/rw_openbook.gif" width="200" height="56" border="0" alt="Rheinwerk Computing < openbook >"></a></td>
<td width="80" height="74">
<a href="https://www.rheinwerk-verlag.de/?GPP=oplup"><img src="common/rw_computing.gif" border="0" alt="Rheinwerk Computing - Professionelle B&uuml;cher. Auch f&uuml;r Einsteiger."></a>
</td>
</tr>
</table><div align="right"><a href="https://www.rheinwerk-verlag.de/?GPP=oplup" class="navnav">Professionelle B&uuml;cher. Auch f&uuml;r Einsteiger</a></div><br /><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="156" valign="top"><table border="0" cellpadding="0" cellspacing="0" width="100%" align="left">
<tr>
<td colspan="2" class="nav1" align="left" valign="top" height="150">
<table class="tbl1" width="150" border="0" cellpadding="3" cellspacing="0">
<tr>
<td class="tbl2" height="25"><A class="nav" href="index-2.html">Inhaltsverzeichnis</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap00a-000.html#Xxx999195">Vorwort des Autors</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap00b-000.html#Xxx999195">Vorwort der Fachgutachter</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap01-000.html#Xxx999235">1 Einf&uuml;hrung</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap02-000.html#Xxx999234">2 E/A-Funktionen</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap03-000.html#Xxx999234">3 Attribute von Dateien und Verzeichnissen</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap04-000.html#Xxx999234">4 Zugriff auf Systeminformationen</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap05-000.html#Xxx999234">5 Devices – eine einfache Verbindung zur Hardware</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap06-000.html#Xxx999234">6 System- und Benutzerdateien</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap07-000.html#Xxx999234">7 D&auml;monen, Zombies und Prozesse</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap08-000.html#Xxx999235">8 Signale</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap09-000.html#Xxx999235">9 IPC – Interprozesskommunikation</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap10-000.html#Xxx999234">10 Threads</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap11-000.html#Xxx999235">11 Netzwerkprogrammierung</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap12-000.html#Xxx999236">12 MySQL und PostgreSQL</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap13-000.html#Xxx999235">13 Terminal E/A und Benutzerschnittstellen f&uuml;r die Konsole</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap14-000.html#Xxx999235">14 Xlib – X Window-Programmierung</A></td>
</tr>
<tr>
<td><A class="navnavh" href="Kap15-000.html#Xxx999235">15 GTK+</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap16-000.html#Xxx999235">16 SDL</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap17-000.html#Xxx999247">17 Werkzeuge f&uuml;r Programmierer</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap18A-000.html#Xxx999248">A Sicherheit unter Linux</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap18B-000.html#Xxx999245">B Funktionsreferenz</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap18C-000.html#Xxx999245">C Inhalt der Buch-CD</A></td>
</tr>
<tr>
<td><A class="navnav" href="stichwort.html#Xxx537584">Index</A></td>
</tr>
<tr><td><br /><!--<a class="navnav" href="http://download.galileo-press.de/openbook/lup/galileocomputing_linux_unix_programmierung.zip"><strong>Download:</strong><br />- ZIP, ca. 4,3 MB</a></td></tr>
<tr><td><a class="navnav" href="https://www.rheinwerk-verlag.de/1137/?GPP=oplup">Buch bestellen</a></td></tr>
<tr><td>--><a class="navnav" href="https://www.rheinwerk-verlag.de/feedback/">Ihre Meinung?</a><br /><br /></td></tr>
</table></td>
</tr>

</table>
</td>
<td width="10"><img src="common/spacer10.gif" width="10" height="10"></td>
<td width="85%" valign="top" align="center">
<div align="center">
<table width="98%" border="0" cellspacing="0" cellpadding="0" bgcolor="#FFFFFF">
<tr>
<td width="100%" class="start" colspan="1" height="22" align="center">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20%"><a class="navnav" href="Kap15-002.html"> &lt;&lt; zur&uuml;ck</a></td>
<td width="59%">
<div align="center"><a href="https://www.rheinwerk-verlag.de/?GPP=oplup" class="navnav">Rheinwerk Computing /</a><a class="navnav" href="https://www.rheinwerk-verlag.de/openbook/?GPP=oplup"> &lt;openbook&gt; /</a> <a href="index-2.html" class="navnav"> Linux-UNIX-Programmierung</a></div>
</td>
<td align="right" width="20%">
<div align="right"><a class="navnav" href="Kap15-004.html">vor &gt;&gt; </a></div>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="100%" valign="top">
<table width="100%" border="0" cellpadding="10" cellspacing="0" class="box">
<tr>
<td colspan="2"><a href="https://www.rheinwerk-verlag.de/1137/?GPP=oplup" class="buchtitel">Linux-UNIX-Programmierung</a><span class="autor"> von J&uuml;rgen Wolf</span><br><span class="untertitel">Das umfassende Handbuch – 2., aktualisierte und erweiterte Auflage 2006</span></td>
</tr>
<tr>
<td valign="top" width="90"><a href="https://www.rheinwerk-verlag.de/1137/?GPP=oplup"><img src="common/9783898427494.gif" border="0" alt="Buch: Linux-UNIX-Programmierung" title="Buch: Linux-UNIX-Programmierung" align="left"><br /><br /><span class="autor"><strong>Linux-UNIX-Programmierung</strong><br />1216 S., mit CD, 49,90 Euro<br />Rheinwerk Computing<br />ISBN 3-89842-749-8</span></a></a></td>
<td width="80%">
<table border="0">
<tr>
<td valign="baseline"><img src="common/pfeil_u.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="3" class="kap"><b>Kapitel <a href="Kap15-000.html#RxxKap15000040005211F024100">15 GTK+</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap15-000.html#RxxKap15000040005211F024102">15.1 Was ist GTK+?</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-000.html#RxxKap15000040005211F024108">15.1.1 Was sind GDK und Glib?</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-000.html#RxxKap15000040005211F02410E">15.1.2 Schnittstellen von GTK+ zu anderen Programmiersprachen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-000.html#RxxKap15000040005211F024110">15.1.3 GTK+ und GNOME</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-000.html#RxxKap15000040005211F024115">15.1.4 GTK+ Version 1.2 und 2.x</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-000.html#RxxKap15000040005211F024175">15.1.5 GTK+-Aufbau des Kapitels</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap15-001.html#RxxKap150010400053E1F049100">15.2 GTK+-Anwendungen &uuml;bersetzen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap15-002.html#RxxKap150020400053F1F013100">15.3 Eine Einf&uuml;hrung in die Glib-Bibliothek</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-002.html#RxxKap150020400053F1F013103">15.3.1 Datentypen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-002.html#RxxKap150020400053F1F013187">15.3.2 Routinen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-002.html#RxxKap150020400053F1F013195">15.3.3 Assertions-Funktionen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-002.html#RxxKap150020400053F1F0131A4">15.3.4 Speicherverwaltung</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-002.html#RxxKap150020400053F1F0131D6">15.3.5 Stringbearbeitung</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-002.html#RxxKap150020400053F1F013201">15.3.6 Selbstverwaltender Stringpuffer</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-002.html#RxxKap150020400053F1F013218">15.3.7 Timer</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-002.html#RxxKap150020400053F1F01322F">15.3.8 Dynamische Arrays</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-002.html#RxxKap150020400053F1F013243">15.3.9 Listen, Hashtabellen und bin&auml;re B&auml;ume</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-002.html#RxxKap150020400053F1F01324A">15.3.10 Ausblick Glib</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a class="navh2" href="#RxxKap15003040005401F028100">15.4 Grundlagen der GTK+-Programmierung</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap15003040005401F028109">15.4.1 Die Umgebung initialisieren</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap15003040005401F02810F">15.4.2 Widgets erzeugen und ggf. die Attribute setzen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap15003040005401F02817C">15.4.3 Eine Callback-Funktion einrichten, um Events abzufangen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap15003040005401F028190">15.4.4 Eine GTK+-Anwendung beenden</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap15003040005401F02819D">15.4.5 Die hierarchische Anordnung der Widgets definieren</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap15003040005401F0281A8">15.4.6 Widgets anzeigen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap15003040005401F0281B0">15.4.7 Signale und Events abfangen und bearbeiten – (Events-)Verarbeitungsschleife</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap15003040005401F0281B9">15.4.8 GTK+ und Umlaute (Zeichenkodierung)</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap15-004.html#RxxKap15004040005411F03E100">15.5 Fenster – GtkWindow</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-004.html#RxxKap15004040005411F03E19A">15.5.1 Dialogfenster (Dialogboxen)</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-004.html#RxxKap15004040005411F03E1BB">15.5.2 GtkMessageDialog</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap15-005.html#RxxKap15005040005421F03D100">15.6 Anzeige-Elemente</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-005.html#RxxKap15005040005421F03D10A">15.6.1 Text – GtkLabel</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-005.html#RxxKap15005040005421F03D194">15.6.2 Trennlinie – GtkSeparator</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-005.html#RxxKap15005040005421F03D196">15.6.3 Grafiken – GtkImage</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-005.html#RxxKap15005040005421F03D19A">15.6.4 Statusleiste – GtkStatusbar</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-005.html#RxxKap15005040005421F03D1A1">15.6.5 Fortschrittsbalken – GtkProgressBar</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap15-006.html#RxxKap15006040005431F023100">15.7 Beh&auml;lter</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-006.html#RxxKap15006040005431F023102">15.7.1 Boxen – GtkBox</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-006.html#RxxKap15006040005431F02317A">15.7.2 Aufteilungen, Register und Button-Box</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-006.html#RxxKap15006040005431F0231CB">15.7.3 Tabellen – GtkTable</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-006.html#RxxKap15006040005431F0231F6">15.7.4 Ausrichtung – GtkAlignment</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap15-007.html#RxxKap15007040005441F037100">15.8 Buttons und Toogled-Buttons</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-007.html#RxxKap15007040005441F03710A">15.8.1 Buttons allgemein</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-007.html#RxxKap15007040005441F03717A">15.8.2 Radio-Buttons (GtkRadioButton)</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-007.html#RxxKap15007040005441F037182">15.8.3 GtkRadioButton, GtkCheckButton und GtkToggleButton</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-007.html#RxxKap15007040005441F037191">15.8.4 Signale f&uuml;r Buttons (GtkButton)</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap15-008.html#RxxKap15008040005451F023100">15.9 Dateneingabe</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-008.html#RxxKap15008040005451F02310A">15.9.1 Textfelder – GtkEntry</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-008.html#RxxKap15008040005451F0231A0">15.9.2 Schieberegler – GtkScale</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-008.html#RxxKap15008040005451F0231C1">15.9.3 Zahlenfelder – GtkSpinButton</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-008.html#RxxKap15008040005451F0231E0">15.9.4 Einstellungen – GtkAdjustment</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-008.html#RxxKap15008040005451F0231F1">15.9.5 GtkEditable</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap15-009.html#RxxKap15009040005461F035100">15.10 Men&uuml; und Toolbar</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-009.html#RxxKap15009040005461F03510A">15.10.1 Men&uuml; – GtkItemFactory</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-009.html#RxxKap15009040005461F0351C3">15.10.2 Toolbar – GtkToolbar</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-009.html#RxxKap15009040005461F0351F0">15.10.3 Options-Men&uuml; – GtkOptionsMenu</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-009.html#RxxKap15009040005461F0351FA">15.10.4 Combo-Boxen – GtkCombo</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap15-010.html#RxxKap15010040005471F030100">15.11 Mehrzeiliger Text</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-010.html#RxxKap15010040005471F030111">15.11.1 Text(editor) – GtkTextView, GtkTextBuffer</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-010.html#RxxKap15010040005471F0301D9">15.11.2 Scrollendes Fenster – GtkScrolledWindow</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap15-011.html#RxxKap15011040005481F04B100">15.12 Ausw&auml;hlen (Selection)</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap15-011.html#RxxKap15011040005481F04B10D">15.12.1 Dateiauswahl – GtkFileSelection</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap15-012.html#RxxKap15012040005491F04C100">15.13 Events</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap15-013.html#RxxKap150130400054A1F03E100">15.14 Weitere Widget- und GTK+-Elemente im &Uuml;berblick</a></b></td>
</tr>
</table><br></td>
</tr>
</table>
<table width="100%" cellpadding="20" cellspacing="0" border="0" bgcolor="#eeeeee">
<tr>
<td>
<a name="t21"></a><a name="t2t31"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div>
<h2 class="t2">15.4 <a id="RxxKap15204GrundlagenderGTKProgrammierung" name="RxxKap15204GrundlagenderGTKProgrammierung"></a>Grundlagen der GTK+-Programmieru<a id="RxxKap15003040005401F028100" name="RxxKap15003040005401F028100"></a>ng 
      <a href="#t2t32"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><img src="common/15x15leer.gif" width="15" height="15" border="0" alt="top"></h2>
<p><a id="Xxx999236" name="Xxx999236"></a>Anwendungen mit einer grafischen Oberfl&auml;che (GUI) k&ouml;nnen sehr komplex werden. Daher werden Sie erst die grundlegenden Schritte kennen lernen, die n&ouml;tig sind, um eigene GTK+-Anwendungen zu schreiben. Wenn Sie die grundlegenden Eigenschaften kennen und sch&auml;tzen gelernt haben, wird es Ihnen nicht mehr sonderlich schwer fallen, komplexere GTK+-Programme zu schreiben, denn im Endeffekt wird immer nach demselben Schema verfahren. Folgende Schritte sind (fast) immer n&ouml;tig, um eine GTK+-Anwendung zu erstellen:</p>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"> die Umgebung initialisieren</td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"> Widgets erzeugen und ggf. die Attribute setzen</td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"> eine Callback-Funktion einrichten, um Events abzufangen</td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"> die hierarchische Anordnung der Widgets definieren</td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"> Widgets anzeigen</td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"> Signale und Events abfangen und bearbeiten – (Events-)Verarbeitungsschleife</td>
</tr>
</table>
<p>Auf den folgenden Seiten soll nun auf die einzelnen Schritte etwas genauer eingegangen werden, ohne jetzt schon die einzelnen Widgets im Detail zu beschreiben.</p>
<a name="t31"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t32"></a><h3 class="t3">15.4.1 Die Umgebung initialisieren<a id="RxxKap15003040005401F028109" name="RxxKap15003040005401F028109"></a> 
      <a href="#t2t33"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><a href="#t2t31"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999246" name="Xxx999246"></a>Der erste Schritt einer jeden GTK+-Anwendung ist es, die Umgebungsvariablen zu initialisieren. Dabei werden die Standardwerte f&uuml;r z. B. Farben vergeben. Die Funktion, mit der Sie dies realisieren, lautet:<a id="Xxx999248" name="Xxx999248"></a></p>
<pre>#include &lt;gtk/gtk.h&gt;
void gtk_init(int *argc_ptr, char ***argv_ptr);</pre>
<p>Bei <span class="listing">argc_ptr</span> handelt es sich um eine Adresse des ersten Parameters der Standard-C-Funktion <span class="listing">main()</span>, welche die Anzahl der Argumente aus der Kommandozeile beinhaltet. Der zweite Parameter <span class="listing">argv_ptr</span> ist dann eine Adresse auf den zweiten Parameter der <span class="listing">main()</span>-Funktion, und der beinhaltet die Werte der einzelnen Argumente aus der Kommandozeile. Mit <span class="listing">gtk_init()</span> wird die Verbindung zum X-Server aufgebaut, daher k&ouml;nnen Sie in der Kommandozeile mit der Option <span class="listing">-display</span> <span class="listing">display_name</span> die Anwendung auf einem anderen Display ausf&uuml;hren. F&uuml;r die Syntax des Namens des Displays lesen Sie bitte die Dokumentation, da diese Angabe je nach System variieren kann. Des Weiteren wird mit der Funktion <span class="listing">gtk_init()</span> automatisch mit <span class="listing">atexit()<a id="Xxx999251" name="Xxx999251"></a></span> eine Clean-up-Funktion eingerichtet.</p>
<br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<tr>
<td class="tabellentext" bgcolor="#000000">
<p class="BStandard"><b>Hinweis   </b>Es k&ouml;nnen auch zwei X-Server lokal laufen, es muss nicht ein anderer Rechner sein.</p>
</td>
</tr>
</table><br>
<a name="t32"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t33"></a><h3 class="t3">15.4.2 Widgets erzeugen und ggf. die Attribute setzen<a id="RxxKap15003040005401F02810F" name="RxxKap15003040005401F02810F"></a> 
      <a href="#t2t34"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><a href="#t2t32"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999257" name="Xxx999257"></a><a id="Xxx999258" name="Xxx999258"></a>Widgets k&ouml;nnen mit den <span class="listing">gtk_xxx_new()</span>-Funktionen erzeugt werden – wobei <span class="listing">xxx</span> f&uuml;r den Typ des Widgets steht, das erzeugt werden soll. Es gibt eine enorme Anzahl von Widgets, die verst&auml;ndlicherweise nicht alle im Buch erw&auml;hnt werden k&ouml;nnen. Die Funktionen <span class="listing">gtk_xxx_new()</span> sind als gleichwertig zu einem Konstruktor in C++ oder Java anzusehen. Mit den Funktionen wird Speicher f&uuml;r ein neues Objekt alloziiert.</p>
<p>Noch umfangreicher ist die Anzahl der Routinen, mit denen Sie die Attribute der Widgets ver&auml;ndern k&ouml;nnen. F&uuml;r einzelne Widgets gibt es h&auml;ufig mehrere Funktionen. Die Funktionen, mit denen Sie die Attribute von Widgets ver&auml;ndern k&ouml;nnen, haben alle die Syntax <span class="listing">gtk_xxx_set_yyy()</span>. <span class="listing">xxx</span> steht dabei f&uuml;r das Widget und <span class="listing">yyy</span> f&uuml;r das Attribut, das ver&auml;ndert werden soll. Wenn Sie z. B. den Titel des Fensters setzen wollen, so geschieht dies mit dem Aufruf <span class="listing">gtk_window_set_title(</span> <span class="listing">...</span> <span class="listing">)</span>.</p>
<p>Alle Widgets sind Unterklassen der <span class="listing">GtkWidget-</span>Basisklasse, weshalb Sie auch den Typ <span class="listing">GtkWidget</span> verwenden k&ouml;nnen, um ein Widget zu referenzieren; wobei im Beispiel des Buchs meistens immer der Typ des Widgets angegeben wird. Anstatt ein Fenster wie folgt zu referenzieren:</p>
<pre>GtkWidget  *win;</pre>
<p>wird im Buch immer folgende Schreibkonvention verwendet:</p>
<pre>GtkWindow  *win;</pre>
<p>Daran erkennt man gleich, worum es sich bei dem Widget handelt, und somit l&auml;sst sich auch schneller die entsprechende Referenzseite des Widgets finden. Was Sie sp&auml;ter in der Praxis verwenden, bleibt nat&uuml;rlich Ihnen &uuml;berlassen. (Verfallen Sie aber nicht der ungarischen Notation, wie z. B. Microsoft sie gerne verwendet, d. h. GtkWindow *wMain, *wPanel etc., sie ist viel zu fehleranf&auml;llig.) Wenn Sie zum Erzeugen von neuen Widgets den Konstruktor <span class="listing">GtkWidget</span> verwenden, ben&ouml;tigen einige Funktionen einen genaueren Typ als <span class="listing">GtkWidget</span>. In solch einem Fall gibt es spezielle Makros, die den Typen casten.</p>
<p>Die zweite M&ouml;glichkeit, ein Widget zu erzeugen, die auch in diesem Buch hier vorwiegend verwendet wird, besteht in der Funktion <span class="listing">g_object_new()</span>.<a id="Xxx999267" name="Xxx999267"></a></p>
<pre>GtkObject* g_object_new (
           GtkType type, const gchar *first_arg_name, ... );</pre>
<p>Hiermit erzeugen Sie ein Objekt (Widget) <span class="listing">type</span> mit den Eigenschaften, die Sie mit den weiteren Parametern (<span class="listing">first_arg_name</span>) angeben k&ouml;nnen. Abgeschlossen wird diese variabel lange Argumentenliste mit <span class="listing">NULL</span>. Zur&uuml;ckgegeben wird ein Zeiger auf das neue Objekt (Widget). Das Prinzip ist einfach und typisch objektorientiert. Sie wollen z. B. ein einfaches Fenster erzeugen:</p>
<pre>GtkWindow *win;
...
win = g_object_new( GTK_TYPE_WINDOW, NULL );</pre>
<p><a id="Xxx999271" name="Xxx999271"></a><a id="Xxx999272" name="Xxx999272"></a>Anstatt also den Funktionsaufruf wie <span class="listing">gtk_xxx_new()</span> zu verwenden, f&uuml;hren Sie hierbei <span class="listing">g_object_new(GTK_TYPE_XXX,</span> <span class="listing">NULL)</span> aus. Aber im Gegensatz zu <span class="listing">gtk_xxx_new()</span> k&ouml;nnen Sie beim Erzeugen eines neuen Objektes gleich weitere Eigenschaften des Objektes mit angeben. Um beim Beispiel des Fensters zu bleiben:</p>
<pre>   /* Fenster mit Eigenschaften anlegen */
   win = g_object_new( GTK_TYPE_WINDOW,
                       "title", "Ein leeres Fenster",
                       "default-width",  300,
                       "default-height", 200,
                       "resizable", TRUE,
                       "window-position", GTK_WIN_POS_CENTER,
                       "border-width", 5,
                       "icon", pic,
                       NULL );</pre>
<p>Mit den Funktionen <span class="listing">gtk_xxx_set_yyy()</span> m&uuml;ssten diese Angaben h&auml;ufig m&uuml;hevoll mit mehreren Funktionen &uuml;bergeben werden. An den konstanten Namen des ersten Parameters zu kommen, sollte im Prinzip keine Probleme bereiten. Wollen Sie z. B. ein Objekt vom Typ <span class="listing">GtkSpinButton</span> erzeugen, l&auml;sst sich dies ganz einfach auf den ersten Parameter projizieren.</p>
<pre>GtkSpinButton =&gt; GTK_TYPE_SPIN_BUTTON</pre>
<p><span class="listing">Gtk</span> wird zu Beginn des Widgets entfernt, und vor jeden Gro&szlig;buchstaben des Widgets wird ein Unterstrichzeichen hingesetzt. Nat&uuml;rlich wird, wie bei Konstanten &uuml;blich, der Typ gro&szlig;geschrieben (dies ist keine Regel, sondern nur ein Tipp). Aber Sie werden dies besser verstehen, wenn Sie die Beispiele in der Praxis einsetzen werden.</p>
<a name="t33"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t34"></a><h3 class="t3">15.4.3 Eine Callback-Funktion einrichten, um Events abzufangen<a id="RxxKap15003040005401F02817C" name="RxxKap15003040005401F02817C"></a> 
      <a href="#t2t35"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><a href="#t2t33"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999279" name="Xxx999279"></a><a id="Xxx999280" name="Xxx999280"></a>Was Events sind und wie Sie darauf regieren k&ouml;nnen, haben Sie bereits im Kapitel zur X-Programmierung erfahren. Jetzt wollen Sie sicherlich wissen, wie eine solche Ereignisverarbeitung in GTK+ realisiert wird. <a id="Xxx999282" name="Xxx999282"></a>In GTK+ wird hierbei zwischen Ereignissen (Events) und Signalen unterschieden; wobei diese Signale hier nicht mit den Linux-typischen Signalen zu vergleichen sind! Tritt z. B. ein Ereignis ein (wie ein Mausklick auf einen Button), wird programmintern ein Signal gesendet (in diesem Fall spricht man vom emittiert). Gew&ouml;hnlich f&uuml;hrt allerdings jedes Ereignis zur Ausl&ouml;sung eines oder mehrerer Signale. Ereignissignale sind zum Beispiel an der Endung <span class="listing">-event</span> zu erkennen. Hier ist wieder derjenige von Vorteil (also Sie mit diesem Buch), der bereits Vorkenntnisse mit der X-Programmierung hat. Allerdings m&uuml;ssen Sie sich jetzt nicht mehr um die Implementierung k&uuml;mmern, sondern vielmehr darum, wie Sie mit den Ereignissignalen arbeiten m&uuml;ssen. Auf die Events und deren Behandlung wird noch extra in einem Abschnitt eingegangen.</p>
<br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<tr>
<td class="tabellentext" bgcolor="#000000">
<p class="BStandard"><b>Hinweis   </b>Da mittlerweile die Version 2.x von GTK+ vorliegt, aber auf vielen Rechnern h&ouml;chstwahrscheinlich zus&auml;tzlich noch die Version 1.2 von GTK+ installiert ist, gibt es hier einige Ver&auml;nderungen. In der Version 1.2 wird zum Einrichten einer Callback-Funktion <span class="listing">gtk_signal_connect()<a id="Xxx999286" name="Xxx999286"></a></span> verwendet. In der Version 2.0. wurde diese Funktion in die Glib ausgelagert und hat somit jetzt kein <span class="listing">gtk_</span> mehr voranstehen, sondern ein <span class="listing">g_</span>, also <span class="listing">g_signal_connect()<a id="Xxx999287" name="Xxx999287"></a></span>. </p>
</td>
</tr>
</table><br>
<p>Der Aufbau von Signalen entspricht einem typischen <a id="Xxx999289" name="Xxx999289"></a>Klassenbaum (siehe Abb. 14.2), z. B. bei den Buttons. Ganz oben in der Klasse steht das Widget <span class="listing">GtkObject</span> mit dem Signal <span class="listing">destroy</span> – was die Beendigung bedeutet. Anschlie&szlig;end folgt im Hierarchiebaum <span class="listing">GtkWidget</span>, das weiterhin unabh&auml;ngig vom eigentlichen Widget bestimmte Signale empfangen und verarbeiten kann. So ist die Gr&ouml;&szlig;e, ob sichtbar oder versteckt, ein Signal, das alle <span class="listing">GtkWidget</span> besitzen und zur&uuml;ckgegeben werden kann. Ein Klasse tiefer finden Sie <span class="listing">GtkContainer</span>, das wiederum speziell f&uuml;r den Container eingehende Signale verarbeiten kann. Tiefer steigend befindet sich dann das Widget <span class="listing">GtkBin</span>, das keinerlei Signale empfangen kann. Jetzt erst kommen Sie im Klassenbaum zum Widget <span class="listing">GtkButton</span>. Dem Button k&ouml;nnen Sie die Signale <span class="listing">clicked</span>, <span class="listing">enter</span>, <span class="listing">leave</span>, <span class="listing">pressed</span> oder <span class="listing">released</span> erteilen – sprich, diese Signale k&ouml;nnen Sie f&uuml;r einen Button mittels <span class="listing">g_signal_connect()</span> einrichten (registrieren).</p>
<br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<tr>
<td class="tabellentext">
<p><a name="bild"></a><a href="#bild" onClick="OpenWin('bilder/15_2.gif','Abbildung',600,600)"><img border="0" src="bilderklein/klein15_2.gif" alt="Abbildung"><br><span class="tabunter">Hier klicken, um das Bild zu vergr&ouml;&szlig;ern</span></a></p>
<p class="tabunter"><b>Abbildung 15.2   
    </b>Der Klassenbaum von GtkButton mit den Signalen</p>
</td>
</tr>
</table><br>
<p>Wenn Sie eine Callback-Funktion geschrieben haben, m&uuml;ssen Sie diese registrieren, um sie aufzurufen, wenn ein bestimmtes Signal emittiert wird. Registriert wird eine Callback-Funktion mit der Funktion:<a id="Xxx999299" name="Xxx999299"></a></p>
<pre>gulong g_signal_connect( gpointer      *object,
                         const gchar   *name,
                         GCallback     func, 
                         gpointer      func_data );</pre>
<p>Die Bedeutungen der einzelnen Parameter sind folgende:</p>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"><span class="listing"> object</span> – Das Objekt, womit Sie die Callback-Funktion verbinden wollen. Hier wird h&auml;ufig ein Casting (<span class="listing">GTK_OBJECT(</span> <span class="listing">widget</span> <span class="listing">)</span>) verwendet.</td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"><span class="listing"> name</span> – Das Signal, womit die Callback-Funktion aufgerufen werden soll, wie <span class="listing">clicked</span>, wenn ein Button mit der Maustaste ge<span class="listing">clicked</span> wurde.</td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"><span class="listing"> func</span> – Die Callback-Funktion, die Sie registrieren wollen. Bei der <span class="listing">g_</span>-Version (GTK+ 2.x) m&uuml;ssen Sie diese Funktion mit <span class="listing">G_CALLBACK(func)</span> casten – bei der <span class="listing">gtk_</span>-Version (GTK+ 1.2) war dies <span class="listing">GTK_SIGNAL_FUNC(func)</span>.</td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"><span class="listing"> func_data</span> – Hier k&ouml;nnen Sie der Callback-Funktion noch zus&auml;tzliche Daten &uuml;bergeben, wenn diese aufgerufen wird. Wollen Sie der Callback-Funktion keine Daten &uuml;bergeben, k&ouml;nnen Sie hier auch <span class="listing">NULL</span> angeben.</td>
</tr>
</table>
<p>Mit <span class="listing">g_signal_connect()</span> haben Sie eine Callback-Funktion eingerichtet. Die Syntax einer solchen Callback-Funktion, die Sie gew&ouml;hnlich selbst schreiben m&uuml;ssen, sieht folgenderma&szlig;en aus:</p>
<pre>type function( parameter_liste );</pre>
<p>So sieht beim Anklicken eines Buttons Ihre Callback-Funktion aus:</p>
<pre>static void my_buttonCB( GtkButton *clicked, gpointer data ) {
   /* Ausgabe f&uuml;r die Konsole */
   g_print("Callback my_buttonCB aufgerufen (%s)\n",
            (gchar *)data );
}</pre>
<p><span class="listing">clicked</span> ist hierbei der Button, der angeklickt wurde, und <span class="listing">data</span> sind die Daten, die beim Einrichten des Signalhandlers mittels <span class="listing">g_signal_connect()</span> mit &uuml;bergeben werden (falls nicht <span class="listing">NULL</span>). Diese Funktion registrieren Sie in der Praxis so:</p>
<pre>g_signal_connect(GTK_OBJECT ( button ),  /* f&uuml;r welches Widget */
                 "clicked",              /* welches Signal     */
                 G_CALLBACK(my_buttonCB),/* welche Funktion    */
                 "Daten");               /* Daten f&uuml;r Funktion */</pre>
<a name="t34"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t35"></a><h3 class="t3">15.4.4 Eine GTK+-Anwendung beenden<a id="RxxKap15003040005401F028190" name="RxxKap15003040005401F028190"></a> 
      <a href="#t2t36"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><a href="#t2t34"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999313" name="Xxx999313"></a>Zwar wird das Thema der Events noch in einem anderen Kapitel ausf&uuml;hrlicher behandelt, doch Folgendes geh&ouml;rt zur Grundausstattung einer GTK+-Anwendung: Gemeint ist die Beendigung einer Anwendung. Wenn Sie Ihre GTK+-Anwendung starten und vom Rahmen des Window-Managers aus beenden wollen, wird sich das Fenster Ihrer Anwendung zwar schlie&szlig;en lassen, wohl aber nicht beenden, wenn Sie nicht spezielle Vorkehrungen treffen. Einfach gesagt, die Anwendung l&auml;uft still und ruhig im Hintergrund als aktiver Prozess weiter.</p>
<p>Intern passiert dabei Folgendes: Sie schlie&szlig;en das GTK+-Fenster mit dem Window-Manager, und es wird ein <span class="listing">delete-event</span>-Signal emittiert. Dieses Signal zeigt an, dass der Anwender das Programm beenden will. Jetzt m&uuml;ssen Sie als Programmierer entscheiden, ob das so in Ordnung geht. Wenn Sie das Beenden erlauben, wird das Signal <span class="listing">destroy</span> gesendet, und die Anwendung wird komplett beendet. Somit ben&ouml;tigen Sie zuerst eine Callback-Routine, die das Signal <span class="listing">delete-event</span> bearbeiten kann. Der Prototyp dieser Funktion sieht wie folgt aus:</p>
<pre>static gboolean my_delete_Event( GtkWidget *widget,
                                 GdkEvent *event,
                                 gpointer data )</pre>
<p>Der Parameter <span class="listing">widget</span> wird ben&ouml;tigt und beinhaltet u. a. die Kennungs-ID des Widgets, welches das Signal <span class="listing">delete-event</span> erzeugt hat. Der <span class="listing">event</span>-Parameter ist die Adresse einer Struktur, worin sich alles befindet, was Sie f&uuml;r das Event ben&ouml;tigen (darauf wird noch genauer eingegangen). Mit <span class="listing">data</span> k&ouml;nnen Sie beim Registrieren des Signalhandlers Daten an die Funktion mit &uuml;bergeben. Wichtig ist der R&uuml;ckgabewert der Funktion <span class="listing">my_delete_Event()</span>. Wenn dieser <span class="listing">TRUE</span> ist, wird verhindert, dass die Anwendung beendet wird. <span class="listing">FALSE</span> hingegen beendet die Anwendung, schlie&szlig;t also das Fenster und emittiert das Signal <span class="listing">destroy</span>. Somit sieht eine komplette Callback-Funktion zum Beenden der Anwendung &uuml;ber den Window-Manager folgenderma&szlig;en aus:</p>
<pre>static gboolean my_delete_Event( GtkWidget *widget,
                                 GdkEvent *event,
                                 gpointer data ) {
  /* Ausgabe f&uuml;r die Konsole */
  g_print("Der Window-Manager will die Anwendung beenden\n");
       /* Unsern Segen zur Beendigung soll er haben */
 return FALSE;
}</pre>
<p>Jetzt muss diese Funktion nur noch mit dem Fenster der Anwendung verbunden werden, da das Fenster die einzige Anwendung ist, die mit dem Window-Manager kommuniziert. Hierzu m&uuml;ssen Sie nur die <span class="listing">g_signal_connect()</span>-Funktion wie folgt verwenden:</p>
<pre>g_signal_connect( GTK_OBJECT (fenster), "delete-event",
                  G_CALLBACK(my_delete_Event), NULL);</pre>
<p>Jetzt hat unser Fenster das <span class="listing">destroy</span>-Event erhalten. Nat&uuml;rlich m&uuml;ssen Sie auch hierzu noch eine Callback-Funktion einrichten:</p>
<pre>  g_signal_connect ( win, "destroy",
                     G_CALLBACK (end), NULL);</pre>
<p>Die Callback-Funktion <span class="listing">end</span> sorgt nun mit dem Aufruf der Funktion <span class="listing">gtk_main_quit()</span> (dazu in K&uuml;rze mehr) f&uuml;r das absolute Ende der GTK+-Anwendung:</p>
<pre>static void end (GtkWidget * widget, gpointer daten) {
  g_print ("Und tschuess!\n");
  /* Die Verarbeitungsschleife beenden */
  gtk_main_quit ();
}</pre>
<p>Sicherlich mag Ihnen dieser Weg auf dem ersten Blick ein wenig umst&auml;ndlich vorkommen – und ja, Sie k&ouml;nnen die GTK+-Anwendung auch schneller beenden (ohne den aufw&auml;ndigeren Weg). Allerdings sollten Sie dann bedenken, falls sich in der Anwendung noch nicht gespeicherte Daten befinden (wie bei einem Texteditor), dass diese bei der Beendigung auch weg sind, wenn Sie keine Vorkehrungen getroffen haben. Mit dem eben gezeigten Weg k&ouml;nnen Sie z. B. in der Callback-Funktion <span class="listing">my_delete_Event()</span> noch &uuml;berpr&uuml;fen, ob irgendwelche zus&auml;tzlichen Arbeiten vor Beendigung der Anwendung zu erledigen sind, und ggf. <span class="listing">TRUE</span> (anstatt <span class="listing">FALSE</span>) zur&uuml;ckgeben, womit die Anwendung nicht beendet wird (weil dadurch das Signal <span class="listing">destroy</span> nicht emittiert wird). Ein Beispiel dazu finden Sie etwas sp&auml;ter mit dem Listing <span class="listing">gtk1b.c</span>.</p>
<a name="t35"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t36"></a><h3 class="t3">15.4.5 Die hierarchische Anordnung der Widgets definieren<a id="RxxKap15003040005401F02819D" name="RxxKap15003040005401F02819D"></a> 
      <a href="#t2t37"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><a href="#t2t35"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999327" name="Xxx999327"></a>Wenn Sie z. B. ein Fenster- und ein Button-Widget erzeugen, haben Sie noch lange nicht die Eltern-Kind-Beziehung zwischen den Widgets zustande gebracht. Vereinfacht hei&szlig;t das, Sie m&uuml;ssen die Hierarchie errichten, damit GTK+ wei&szlig;, wie und wo die Widgets auf dem Bildschirm angezeigt werden sollen.</p>
<p>Um eine Eltern-Kind-Beziehung einzurichten, m&uuml;ssen Sie erst ein Kind-Widget zum verwaltenden Eltern-Widget hinzuf&uuml;gen. Der Funktionsaufruf h&auml;ngt vom Eltern-Widget ab. Im Beispiel wird davon ausgegangen, dass das Fenster (<span class="listing">GtkWindow</span>) das Eltern-Widget ist – was gleichzeitig auch ein Abk&ouml;mmling des <span class="listing">GtkContainer</span>-Widgets ist. Daher k&ouml;nnen Sie folgende Funktion verwenden:<a id="Xxx999330" name="Xxx999330"></a></p>
<pre>void gtk_container_add( GtkContainer *container,
                         GtkWidget *widget );</pre>
<p>Mit <span class="listing">container</span> geben Sie das Eltern-Widget an und mit <span class="listing">widget</span> das, das Sie zum <span class="listing">container</span> hinzuf&uuml;gen wollen.</p>
<br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<tr>
<td class="tabellentext" bgcolor="#000000">
<p class="BStandard"><a id="Xxx999335" name="Xxx999335"></a><a id="Xxx999336" name="Xxx999336"></a><b>Hinweis   </b>Container sind Widgets, die wiederum andere Widgets enthalten k&ouml;nnen, und sind meistens f&uuml;r das Layout der Anwendung verantwortlich. H&auml;ufig werden Fenster als Container (zu Deutsch: Beh&auml;lter) verwendet, worin sich alle anderen Widgets des Programms befinden.</p>
</td>
</tr>
</table><br>
<p><a id="Xxx999339" name="Xxx999339"></a>Vorwiegend werden Box- und Tabellen-Widgets als Beh&auml;lter f&uuml;r andere Widgets verwendet. Mit den Box- bzw. Tabellen-Widgets ist es recht einfach, die Widgets in einer bestimmten Lage zueinander anzuordnen. Nat&uuml;rlich lassen sich auch solche Beh&auml;lter ineinander verschachteln, um die Form und Gestalt der Anwendung zu bestimmen. Wenn man ein Widget in einen Beh&auml;lter steckt, spricht man von <a id="Xxx999341" name="Xxx999341"></a><a id="Xxx999342" name="Xxx999342"></a>Packen. Die Widgets in einem Beh&auml;lter werden als Kind-Widgets bezeichnet, wobei kein Kind-Widget gleichzeitig in verschiedenen Beh&auml;ltern vorkommen kann.</p>
<p>In den (bald) folgenden Listings werden Sie z. B. eine vertikale Box als Kind-Widget in den Beh&auml;lter stecken – in einem Fall ist der Beh&auml;lter z. B. ein Fenster. Womit Sie praktisch einen Beh&auml;lter in einen Beh&auml;lter packen – die Box ist zwar ein Widget, aber gleichzeitig ist sie auch ein Beh&auml;lter. Die einfachste M&ouml;glichkeit, jetzt weitere Widgets in die Box zu packen, w&auml;re mit der Funktion:<a id="Xxx999344" name="Xxx999344"></a></p>
<pre>void gtk_box_pack_defaults( GtkBox *box, GtkWidget *widget );</pre>
<p>Damit k&ouml;nnen Sie z. B. nacheinander weitere Widgets mit einer Standardeinstellung packen. Wurde eine Box z. B. mit der Funktion <span class="listing">gtk_vbox_new()</span> erzeugt, bedeutet dies, dass die weiteren Widgets mit der Funktion <span class="listing">gtk_pack_defaults()</span> vertikal angeordnet hinzugef&uuml;gt werden.</p>
<a name="t36"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t37"></a><h3 class="t3">15.4.6 Widgets anzeigen<a id="RxxKap15003040005401F0281A8" name="RxxKap15003040005401F0281A8"></a> 
      <a href="#t2t38"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><a href="#t2t36"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999348" name="Xxx999348"></a>Jetzt haben Sie zwar Widgets erzeugt, die Anordnung und Hierarchie festgelegt, aber noch existieren diese Daten im Verborgenen (im Hauptspeicher). Sie haben jetzt zwei M&ouml;glichkeiten, die Widgets anzeigen zu lassen.<a id="Xxx999350" name="Xxx999350"></a><a id="Xxx999351" name="Xxx999351"></a></p>
<pre>void gtk_widget_show( GtkWidget *widget );
void gtk_widget_show_all( GtkWidget *eltern_widget );</pre>
<p>Mit der Funktion <span class="listing">gtk_widget_show()</span> k&ouml;nnen Sie die einzelnen Widgets nacheinander auf dem Bildschirm zeichnen lassen. Allerdings ist es doch sehr umst&auml;ndlich, wenn man bedenkt, dass umfangreichere Anwendungen schon mal ein paar Dutzend Widgets besitzen – schnell wird dabei ein Widget vergessen. Einfacher k&ouml;nnen Sie es sich mit der Funktion <span class="listing">gtk_widget_show_all()</span> machen. Hierf&uuml;r m&uuml;ssen Sie nur das Eltern-Widget angeben, und alle sich darunter befindlichen Kinder-Widgets werden mit angezeigt (&Auml;hnliches hatten Sie ja schon im Kapitel zum Xt-Toolkit gehabt).</p>
<p>Nat&uuml;rlich k&ouml;nnen Sie auch einzelne oder alle Widgets verstecken. Dies wird mit den entsprechenden Gegenst&uuml;cken zu den eben erw&auml;hnten Funktionen gemacht:<a id="Xxx999355" name="Xxx999355"></a><a id="Xxx999356" name="Xxx999356"></a><a id="Xxx999357" name="Xxx999357"></a></p>
<pre>void gtk_widget_hide( GtkWidget *widget );
void gtk_widget_hide_all( GtkWidget *eltern_widget );</pre>
<p>Wird ein Widget nicht mehr ben&ouml;tigt, so sollte dieses mit der Funktion <span class="listing">gtk_widget_destroy()</span> freigegeben werden.<a id="Xxx999360" name="Xxx999360"></a><a id="Xxx999361" name="Xxx999361"></a></p>
<pre>void gtk_widget_destroy ( GtkWidget *widget );</pre>
<a name="t37"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t38"></a><h3 class="t3">15.4.7 Signale und Events abfangen und bearbeiten – 
(Events-)Verarbeitungsschleif<a id="RxxKap15003040005401F0281B0" name="RxxKap15003040005401F0281B0"></a>e 
      <a href="#t2t39"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><a href="#t2t37"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999364" name="Xxx999364"></a><a id="Xxx999365" name="Xxx999365"></a>Wie schon bei der Xt-Bibliothek befindet sich die Verarbeitungsschleife am Ende des Codes. Die Syntax der Verarbeitungsschleife ist einfach:<a id="Xxx999367" name="Xxx999367"></a><a id="Xxx999368" name="Xxx999368"></a></p>
<pre>void gtk_main();</pre>
<p>Bis zur Funktion <span class="listing">gtk_main()</span> l&auml;uft das Programm erst iterativ ab. Nun wartet das Programm in der <span class="listing">gtk_main()</span>-Funktion auf ein Ereignis. Das Programm befindet sich praktisch in einer Endlosschleife. Tritt ein Ereignis auf, arbeitet GTK das Ereignis ab (vorausgesetzt, es wurde eine entsprechende Funktion f&uuml;r das Ereignis registriert) und springt anschlie&szlig;end wieder zur <span class="listing">gtk_main()</span>-Funktion zur&uuml;ck – au&szlig;er bei diesem Ereignis handelt es sich um einen Aufruf der Funktion <span class="listing">gtk_main_quit()<a id="Xxx999371" name="Xxx999371"></a></span>, womit die Verarbeitungsschleife beendet und die Ausf&uuml;hrung des Programms hinter <span class="listing">gtk_main()</span> fortgef&uuml;hrt wird.<a id="Xxx999372" name="Xxx999372"></a></p>
<pre>void gtk_main_quit();</pre>
<p>Wird <span class="listing">gtk_main_quit()</span> in einer Callback-Funktion aufgerufen, wird das Programm nicht unmittelbar beendet, sondern kehrt vorher noch hinter die Ausf&uuml;hrung von <span class="listing">gtk_main()</span> zur&uuml;ck. Befindet sich hinter der <span class="listing">gtk_main()</span>-Funktion noch Code, wird dieser nat&uuml;rlich ausgef&uuml;hrt. Wollen Sie eine Anwendung unwiderruflich, egal von welcher Stelle aus beenden, k&ouml;nnen Sie dies mit der Funktion <span class="listing">gtk_exit()<a id="Xxx999375" name="Xxx999375"></a></span>, die gleichwertig zur Standard-C-Funktion <span class="listing">exit()</span> ist.</p>
<p>Hier der grafische Vorgang der Verarbeitungsschleife (<span class="listing">gtk_main()</span>) und gleichzeitig auch das Signalhandler-Modell von GTK+.</p>
<br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<tr>
<td class="tabellentext">
<p><a name="bild"></a><a href="#bild" onClick="OpenWin('bilder/15_3.gif','Abbildung',600,600)"><img border="0" src="bilderklein/klein15_3.gif" alt="Abbildung"><br><span class="tabunter">Hier klicken, um das Bild zu vergr&ouml;&szlig;ern</span></a></p>
<p class="tabunter"><b>Abbildung 15.3   
    </b>Signalmodell von GTK+</p>
</td>
</tr>
</table><br>
<a name="t38"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t39"></a><h3 class="t3">15.4.8 GTK+ und Umlaute (Zeichenkodierung)<a id="RxxKap15003040005401F0281B9" name="RxxKap15003040005401F0281B9"></a> 
      <img src="common/15x15leer.gif" width="15" height="15" border="0" alt="top"><a href="#t2t38"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999385" name="Xxx999385"></a><a id="Xxx999386" name="Xxx999386"></a><a id="Xxx999387" name="Xxx999387"></a>Sofern Sie Umlaute bzw. Nicht-ASCII-Zeichen in einer GTK+-Anwendung verwenden bzw. darstellen wollen, ohne eine Fehler- bzw. Warnmeldung zur&uuml;ckzubekommen wie z. B. [Invalid UTF-8], muss die Quelldatei in UTF-8 kodiert bzw. abgespeichert werden. Sofern Sie z. B. den GNU Emacs verwenden, sind Sie fein raus, denn dann reicht es aus, am Anfang des Listings folgende Steuerzeile einzuf&uuml;gen:</p>
<pre>/* -*-coding: utf-8;-*- */</pre>
<p>Bei anderen Editoren m&uuml;ssen Sie selbst nachsehen, ob eine solche Funktionalit&auml;t vorhanden ist. Eventuell kann es sinnvoll sein, den Text mit dem Konverter <span class="listing">iconv</span> selbst vom latin1-Format zum utf-8-Format zu konvertieren. Ein Beispiel dazu k&ouml;nnte wie folgt aussehen:</p>
<pre>$ iconv -f latin1 -t utf-8 gtk1.c &gt; gtk1_utf8.c           </pre>
<p>Hiermit konvertieren Sie aus der Quelldatei <span class="listing">gtk1.c</span>, die sich im latin1-Format befindet, eine UTF-8-codierte Datei namens gtk1_utf8.c, die jetzt in der Lage ist, auch Umlaute und Nicht-ASCII-Zeichen anzuzeigen.</p>
<br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<tr>
<td class="tabellentext" bgcolor="#000000">
<p class="BStandard"><b>Hinweis   </b>Eine weitere M&ouml;glichkeit zur Lokalisierung von Software stellt GNU Gettext da. Mehr hierzu k&ouml;nnen Sie der Manual Page von gettext entnehmen.</p>
</td>
</tr>
</table><br>
<h4 class="t4">UTF-8</h4>
<p>Die UTF-8-Kodierung ist eine der wichtigsten, so dass es sich lohnen kann, sich n&auml;her damit zu befassen. UTF-8 ist kompatibel zur ASCII-Kodierung. Wie Sie wissen, werden ASCII-Zeichen mit einem Byte dargestellt. Somit ist jeder reine ASCII-Text auch ein reiner UTF-8-Text. Leider besteht hier auch das Problem, dass ein UTF-8-Text keine Reihe von gleich breiten Zeichen hat und somit iterativ zeichenweise zerlegt werden muss. Bei Verwendung von Nicht-ASCII-Zeichen, wie in unserem Land mit den Umlauten, f&uuml;hrt diese Zerlegung zu unsch&ouml;nen Effekten. Um dieses Problem zu umgehen, finden Sie in der Glib hierzu einige n&uuml;tzliche Funktionen, die alle mit dem Pr&auml;fix <span class="listing">g_utf8_</span> beginnen.</p>
<p>Damit Sie sich nicht schon w&auml;hrend der ersten Schritte mit GTK+ mit den verschiedenen Zeichenkodierungen herumschlagen m&uuml;ssen, wurde weitgehend auf Verwendung von Umlauten und Nicht-ASCII-Zeichen in den Beispielen verzichtet.</p>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="100%" class="start" colspan="1" height="22" align="center">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20%"><a class="navnav" href="Kap15-002.html"> &lt;&lt; zur&uuml;ck</a></td>
<td width="59%">
<div align="center"><a class="navnav" href="#">&lt;top&gt;</a></div>
</td>
<td align="right" width="20%">
<div align="right"><a class="navnav" href="Kap15-004.html">vor &gt;&gt; </a></div>
</td>
</tr>
</table>
</td>
</tr>
</table>
</div>
</td>
<td width="10" valign="top">&nbsp;&nbsp;</td>
<td width="160" valign="top">
    <table border="0" cellpadding="0" cellspacing="0" width="160">
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2">
                            &nbsp;<a href="https://www.rheinwerk-verlag.de/?GPP=oplup" class="navs">
                            <strong>Zum Katalog</strong></a>
                        </td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2">
                            <img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td><a href="https://www.rheinwerk-verlag.de/linux-unix-programmierung_1137/?GPP=oplup">
                                        <img src="common/749.gif"  border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux-UNIX-Programmierung" title="Zum Katalog: Linux-UNIX-Programmierung">
                                        <br /><strong>Linux-UNIX-<br />Programmierung</strong><br /><img src="common/pfeil_rechts5.gif" border="0" alt="">bestellen</a>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2"><strong>&nbsp;Ihre Meinung?</strong></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td>Wie hat Ihnen das &lt;openbook&gt; gefallen?<br /><a href="https://www.rheinwerk-verlag.de/feedback/"><img src="common/pfeil_rechts5.gif" border="0" alt="">Ihre Meinung</a>
                                    <br /><br /></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2">&nbsp;<a href="https://www.rheinwerk-verlag.de/?GPP=oplup" class="navs"><strong>Buchtipps</strong></a></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/linux-server_3685/?GPP=oplup">
                        <img src="common/3020.gif" width="78" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux-Server" title="Zum Katalog: Linux-Server"><br /><br /><br /><br /><br /><br /><br />&nbsp;Linux-Server</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/das-komplettpaket-lpic-1-lpic-2_3782/?GPP=oplup">
                        <img src="common/3529.gif" width="70" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Das Komplettpaket LPIC-1 &amp; LPIC-2" title="Zum Katalog: Das Komplettpaket LPIC-1 &amp; LPIC-2"><br /><br /><br /><br /><br /><br /><br />&nbsp;Das Komplettpaket<br />&nbsp;LPIC-1 &amp; LPIC-2</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/linux-hochverfugbarkeit_3420/?GPP=oplup">
                        <img src="common/2542.gif" width="70" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux-Hochverfügbarkeit" title="Zum Katalog: Linux-Hochverfügbarkeit"><br /><br /><br /><br /><br /><br /><br />&nbsp;Linux-<br />&nbsp;Hochverfügbarkeit</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/shell-programmierung_3345/?GPP=oplup">
                        <img src="common/2310.gif" width="69" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Shell-Programmierung" title="Zum Katalog: Shell-Programmierung"><br /><br /><br /><br /><br /><br /><br />&nbsp;Shell-<br />&nbsp;Programmierung</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/linux_3436/?GPP=oplup">
                        <img src="common/2591.gif" width="79" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux Handbuch" title="Zum Katalog: Linux Handbuch"><br /><br /><br /><br /><br /><br /><br />&nbsp;Linux Handbuch</a><br /><br /></td>
                    </tr>
                </table></td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2"><strong>&nbsp;Shopping</strong></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td><b>Versandkostenfrei</b> bestellen in Deutschland und &Ouml;sterreich<br /><a href="https://www.rheinwerk-verlag.de/hilfe/bestellung_6?GPP=oplup"><img src="common/pfeil_rechts5.gif" border="0" alt="">Info</a><br /><br /></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</td>
</tr>
</table>
<br /><br />
<hr width="70%" align="center">
<br />
<div align="center">
    <p class="standard">
        <strong>Copyright © Rheinwerk Verlag GmbH 2006</strong>
        <br />F&uuml;r Ihren privaten Gebrauch d&uuml;rfen Sie die Online-Version nat&uuml;rlich 
        ausdrucken. Ansonsten unterliegt das &lt;openbook&gt; denselben Bestimmungen, 
        wie die gebundene Ausgabe: Das Werk einschlie&szlig;lich aller seiner Teile ist 
        urheberrechtlich gesch&uuml;tzt. Alle Rechte vorbehalten einschlie&szlig;lich der 
        Vervielf&auml;ltigung, &Uuml;bersetzung, Mikroverfilmung sowie Einspeicherung und 
        Verarbeitung in elektronischen Systemen.
    </p>
    <br><a href="https://www.rheinwerk-verlag.de/">[Rheinwerk Computing]</a>
    <br /><br />Rheinwerk Verlag GmbH, Rheinwerkallee 4, 53227 Bonn, 
    Tel.: 0228.42150.0, Fax 0228.42150.77, 
    <a href="mailto:service@rheinwerk-verlag.de">service@rheinwerk-verlag.de</a>
</div>
<br /><br />
</body>

<!-- Mirrored from openbook.rheinwerk-verlag.de/linux_unix_programmierung/Kap15-003.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 May 2017 19:46:17 GMT -->
</html>
