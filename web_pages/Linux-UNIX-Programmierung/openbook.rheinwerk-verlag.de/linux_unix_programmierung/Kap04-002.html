<html>

<!-- Mirrored from openbook.rheinwerk-verlag.de/linux_unix_programmierung/Kap04-002.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 May 2017 19:57:10 GMT -->
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Linux-UNIX-Programmierung – 4.3 Prozessinformationen</title>
<meta name="title" content="Linux-UNIX-Programmierung">
<meta name="author" content="J&uuml;rgen Wolf">
<meta name="publisher" content="Rheinwerk Verlag GmbH 2006">
<meta name="copyright" content="Rheinwerk Verlag GmbH 2006">
<meta name="description" content="Linux-UNIX-Programmierung - Das umfassende Handbuch – 2., aktualisierte und erweiterte Auflage 2006 – ISBN 3-89842-749-8">
<meta name="audience" content="Alle">
<meta name="robots" content="INDEX,FOLLOW">
<meta http-equiv="content-language" content="de">
<link rel="stylesheet" type="text/css" href="common/rw_open.css">
<link rel="prev" href="Kap04-001.html">
<link rel="next" href="Kap04-003.html"><script type="text/javascript" language="JavaScript"><!--
function OpenWin(url,name,height,width)
{
  var InfoWin = window.open(url,name,"directories=0,height="+height+",width=" + width + ",hotkeys=0,location=0,menubar=0,resizable=1,screenX=150,screenY=10,left=150,top=10,scrollbars=1,status=1,titlebar=0,toolbar=0");
  InfoWin.focus();
}
//--></script></head>
<body vlink="#000099" link="#000099" alink="#000099">
<table width="100%" height="74" border="0" cellpadding="0" cellspacing="0" bgcolor="#00549d">
<tr>
<td height="74" valign="bottom" colspan="2"><a href="https://www.rheinwerk-verlag.de/openbook/?GPP=oplup"><img src="common/rw_openbook.gif" width="200" height="56" border="0" alt="Rheinwerk Computing < openbook >"></a></td>
<td width="80" height="74">
<a href="https://www.rheinwerk-verlag.de/?GPP=oplup"><img src="common/rw_computing.gif" border="0" alt="Rheinwerk Computing - Professionelle B&uuml;cher. Auch f&uuml;r Einsteiger."></a>
</td>
</tr>
</table><div align="right"><a href="https://www.rheinwerk-verlag.de/?GPP=oplup" class="navnav">Professionelle B&uuml;cher. Auch f&uuml;r Einsteiger</a></div><br /><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="156" valign="top"><table border="0" cellpadding="0" cellspacing="0" width="100%" align="left">
<tr>
<td colspan="2" class="nav1" align="left" valign="top" height="150">
<table class="tbl1" width="150" border="0" cellpadding="3" cellspacing="0">
<tr>
<td class="tbl2" height="25"><A class="nav" href="index-2.html">Inhaltsverzeichnis</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap00a-000.html#Xxx999195">Vorwort des Autors</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap00b-000.html#Xxx999195">Vorwort der Fachgutachter</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap01-000.html#Xxx999235">1 Einf&uuml;hrung</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap02-000.html#Xxx999234">2 E/A-Funktionen</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap03-000.html#Xxx999234">3 Attribute von Dateien und Verzeichnissen</A></td>
</tr>
<tr>
<td><A class="navnavh" href="Kap04-000.html#Xxx999234">4 Zugriff auf Systeminformationen</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap05-000.html#Xxx999234">5 Devices – eine einfache Verbindung zur Hardware</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap06-000.html#Xxx999234">6 System- und Benutzerdateien</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap07-000.html#Xxx999234">7 D&auml;monen, Zombies und Prozesse</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap08-000.html#Xxx999235">8 Signale</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap09-000.html#Xxx999235">9 IPC – Interprozesskommunikation</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap10-000.html#Xxx999234">10 Threads</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap11-000.html#Xxx999235">11 Netzwerkprogrammierung</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap12-000.html#Xxx999236">12 MySQL und PostgreSQL</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap13-000.html#Xxx999235">13 Terminal E/A und Benutzerschnittstellen f&uuml;r die Konsole</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap14-000.html#Xxx999235">14 Xlib – X Window-Programmierung</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap15-000.html#Xxx999235">15 GTK+</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap16-000.html#Xxx999235">16 SDL</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap17-000.html#Xxx999247">17 Werkzeuge f&uuml;r Programmierer</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap18A-000.html#Xxx999248">A Sicherheit unter Linux</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap18B-000.html#Xxx999245">B Funktionsreferenz</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap18C-000.html#Xxx999245">C Inhalt der Buch-CD</A></td>
</tr>
<tr>
<td><A class="navnav" href="stichwort.html#Xxx537584">Index</A></td>
</tr>
<tr><td><br /><!--<a class="navnav" href="http://download.galileo-press.de/openbook/lup/galileocomputing_linux_unix_programmierung.zip"><strong>Download:</strong><br />- ZIP, ca. 4,3 MB</a></td></tr>
<tr><td><a class="navnav" href="https://www.rheinwerk-verlag.de/1137/?GPP=oplup">Buch bestellen</a></td></tr>
<tr><td>--><a class="navnav" href="https://www.rheinwerk-verlag.de/feedback/">Ihre Meinung?</a><br /><br /></td></tr>
</table></td>
</tr>

</table>
</td>
<td width="10"><img src="common/spacer10.gif" width="10" height="10"></td>
<td width="85%" valign="top" align="center">
<div align="center">
<table width="98%" border="0" cellspacing="0" cellpadding="0" bgcolor="#FFFFFF">
<tr>
<td width="100%" class="start" colspan="1" height="22" align="center">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20%"><a class="navnav" href="Kap04-001.html"> &lt;&lt; zur&uuml;ck</a></td>
<td width="59%">
<div align="center"><a href="https://www.rheinwerk-verlag.de/?GPP=oplup" class="navnav">Rheinwerk Computing /</a><a class="navnav" href="https://www.rheinwerk-verlag.de/openbook/?GPP=oplup"> &lt;openbook&gt; /</a> <a href="index-2.html" class="navnav"> Linux-UNIX-Programmierung</a></div>
</td>
<td align="right" width="20%">
<div align="right"><a class="navnav" href="Kap04-003.html">vor &gt;&gt; </a></div>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="100%" valign="top">
<table width="100%" border="0" cellpadding="10" cellspacing="0" class="box">
<tr>
<td colspan="2"><a href="https://www.rheinwerk-verlag.de/1137/?GPP=oplup" class="buchtitel">Linux-UNIX-Programmierung</a><span class="autor"> von J&uuml;rgen Wolf</span><br><span class="untertitel">Das umfassende Handbuch – 2., aktualisierte und erweiterte Auflage 2006</span></td>
</tr>
<tr>
<td valign="top" width="90"><a href="https://www.rheinwerk-verlag.de/1137/?GPP=oplup"><img src="common/9783898427494.gif" border="0" alt="Buch: Linux-UNIX-Programmierung" title="Buch: Linux-UNIX-Programmierung" align="left"><br /><br /><span class="autor"><strong>Linux-UNIX-Programmierung</strong><br />1216 S., mit CD, 49,90 Euro<br />Rheinwerk Computing<br />ISBN 3-89842-749-8</span></a></a></td>
<td width="80%">
<table border="0">
<tr>
<td valign="baseline"><img src="common/pfeil_u.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="3" class="kap"><b>Kapitel <a href="Kap04-000.html#RxxKap04000040001181F03C100">4 Zugriff auf Systeminformationen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap04-000.html#RxxKap04000040001181F03C10B">4.1 Informationen aus dem /proc-Verzeichnis herausziehen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap04-001.html#RxxKap04001040001351F039100">4.2 Hardware-/Systeminformationen ermitteln</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap04-001.html#RxxKap04001040001351F039104">4.2.1 CPU-Informationen – /proc/cpuinfo</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap04-001.html#RxxKap04001040001351F03910D">4.2.2 Ger&auml;teinformationen – /proc/devices</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap04-001.html#RxxKap04001040001351F03910F">4.2.3 PCI-Bus – /proc/pci (nicht 2.6)</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap04-001.html#RxxKap04001040001351F039111">4.2.4 Speicherauslastung – /proc/meminfo</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap04-001.html#RxxKap04001040001351F039113">4.2.5 Weitere Hardware-Informationen zusammengefasst</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a class="navh2" href="#RxxKap04002040001361F01F100">4.3 Prozessinformationen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap04002040001361F01F108">4.3.1 /proc/$pid/cmdline</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap04002040001361F01F112">4.3.2 /proc/$pid/environ</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap04002040001361F01F117">4.3.3 /proc/self</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap04002040001361F01F17A">4.3.4 /proc/$pid/fd/</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap04002040001361F01F182">4.3.5 /proc/$pid/statm</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap04-003.html#RxxKap04003040001371F03C100">4.4 Kernel-Informationen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap04-003.html#RxxKap04003040001371F03C117">4.4.1 /proc/locks</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap04-003.html#RxxKap04003040001371F03C17A">4.4.2 /proc/modules</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap04-004.html#RxxKap04004040001381F03E100">4.5 Filesysteme</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap04-004.html#RxxKap04004040001381F03E102">4.5.1 /proc/mounts</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap04-005.html#RxxKap04005040001391F039100">4.6 Weiterf&uuml;hrendes</a></b></td>
</tr>
</table><br></td>
</tr>
</table>
<table width="100%" cellpadding="20" cellspacing="0" border="0" bgcolor="#eeeeee">
<tr>
<td>
<a name="t21"></a><a name="t2t31"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div>
<h2 class="t2">4.3 <a id="RxxKap0446Prozessinformationen" name="RxxKap0446Prozessinformationen"></a>Prozessinformatione<a id="RxxKap04002040001361F01F100" name="RxxKap04002040001361F01F100"></a>n 
      <a href="#t2t32"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><img src="common/15x15leer.gif" width="15" height="15" border="0" alt="top"></h2>
<p><a id="Xxx999235" name="Xxx999235"></a>Neben Hardware-Informationen k&ouml;nnen Sie aus dem <span class="listing">/proc</span>-Filesystem auch Informationen zu den einzelnen Prozessen ermitteln. Auch Programme wie <span class="listing">ps</span> oder <span class="listing">top</span> nutzen diese M&ouml;glichkeit, um Ihnen Informationen zu einem Prozess zu liefern. Den Prozessen und deren Verwaltung ist extra noch ein Kapitel gewidmet. Das <span class="listing">/proc</span>-Filesystem beinhaltet f&uuml;r jeden Prozess extra ein Unterverzeichnis. Der Name des Verzeichnisses entspricht der Prozess-ID. Lassen Sie sich am besten das <span class="listing">/proc</span>-Verzeichnis ausgeben:</p>
<pre>$ ls -l /proc | less
dr-xr-xr-x    3 root     root     0 2003–11–13 23:46 1
dr-xr-xr-x    3 root     root     0 2003–11–13 23:46 12
dr-xr-xr-x    3 root     root     0 2003–11–13 23:46 1201
dr-xr-xr-x    3 root     root     0 2003–11–13 23:46 1278
dr-xr-xr-x    3 bin      root     0 2003–11–13 23:46 1303 
...
dr-xr-xr-x    4 root     root     0 2003–11–13 23:47 tty
-r--r--r--    1 root     root     0 2003–11–13 23:47 uptime
-r--r--r--    1 root     root     0 2003–11–13 23:47 version
dr-xr-xr-x    3 root     root     0 2003–11–13 23:47 video</pre>
<p>Diese Verzeichnisse werden als Prozessverzeichnisse bezeichnet, da sich diese auf die Prozess-ID (PID) beziehen (komischerweise taucht es in den 2.6er-Sources als »<span class="listing">TGID</span>« auf ...) und Informationen zu diesem Prozess beinhalten. Eigent&uuml;mer und Gruppe eines jeden solchen PID-Verzeichnisses werden auf die ID des Benutzers, der den Prozess ausf&uuml;hrt, gesetzt. (Eine nachtr&auml;gliche &Auml;nderung &uuml;ber <span class="listing">setuid()</span> &auml;ndert nur den Eigent&uuml;mer des Verzeichnisses, nicht den der Dateien.) Nach Beendigung des Prozesses wird der Eintrag im   <span class="listing">/proc</span>-Verzeichnis ebenfalls wieder gel&ouml;scht. W&auml;hrend der Ausf&uuml;hrung eines Prozesses k&ouml;nnen Sie aus dem Verzeichnis die nun folgenden n&uuml;tzlichen Informationen dazu erhalten:</p>
<pre>#include &lt;unistd. h.&gt;
int main(void) { setuid(25); while(1); }</pre>
<p>Im Hintergrund ausf&uuml;hren (»<span class="listing">./a.out</span> <span class="listing">&amp;</span>«) und reingucken:</p>
<pre># ./a.out &amp;
[1] 2275
# ls -l /proc/2275/
insgesamt 0
-r--r--r--  1 tot  users   0 2004–08–14 02:36   cmdline
-r--------  1 tot  users   0 2004–08–14 02:36   environ
lrwxrwxrwx  1 tot  users   0 2004–08–14 02:36   exe-&gt;./a.out
dr-x------  2 tot  users   0 2004–08–14 02:36
fd-rw------ 1 tot  users   0 2004–08–14 02:36   mapped_base
-r--r--r--  1 tot  users   0 2004–08–14 02:36   maps
-rw-------  1 tot  users   0 2004–08–14 02:36   mem
-r--r--r--  1 tot  users   0 2004–08–14 02:36   mounts
lrwxrwxrwx  1 tot  users   0 2004–08–14 02:36   root -&gt; /
-r--r--r--  1 tot  users   0 2004–08–14 02:36   stat
-r--r--r--  1 tot  users   0 2004–08–14 02:36   statm
-r--r--r--  1 tot  users   0 2004–08–14 02:36   status</pre>
<p>Gilt auch f&uuml;r <span class="listing">seteuid()</span> und <span class="listing">setreuid()</span>.</p>
<a name="t31"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t32"></a><h3 class="t3">4.3.1 /proc/$pid/cmdline<a id="RxxKap04002040001361F01F108" name="RxxKap04002040001361F01F108"></a> 
      <a href="#t2t33"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><a href="#t2t31"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999244" name="Xxx999244"></a>Sie finden z. B. ein Verzeichnis mit der ID 2167 und wollen wissen, was in der Kommandozeile des Prozesses steht, dann m&uuml;ssen Sie nur <span class="listing">cmdline</span> abfragen:</p>
<pre>$ cat /proc/2167/cmdline
anjuta</pre>
<p>Der Prozess mit der ID 2167 ist also das Programm (die Entwicklungsumgebung) Anjuta bei der Ausf&uuml;hrung. Wollen Sie alle Prozesse ausgeben lassen, k&ouml;nnen Sie dies auch folgenderma&szlig;en machen:</p>
<pre># cat /proc/[0–9]*/cmdline</pre>
<p>Da die Ausgabe allerdings zu w&uuml;nschen &uuml;brig l&auml;sst, sollten Sie hierf&uuml;r das Kommando <span class="listing">strings</span> einsetzen:</p>
<pre># strings -f /proc/[0–9]*/cmdline</pre>
<p>Und schon bekommen Sie alle zu den Prozess-IDs geh&ouml;renden Namen ausgegeben. Mit <span class="listing">cmdline</span> k&ouml;nnen Sie eine einzelne Zeile des Prozesses ausgeben, worin der Name (oder auch das Kommando) des Programms mit allen Argumenten enthalten ist.</p>
<p>Falls strings bei Ihnen nicht machen will, was es soll, k&ouml;nnen Sie auch folgende Eingabe verwenden:</p>
<pre># grep -Ha "" /proc/[0–9]*/cmdline | tr '\0' " "</pre>
<a name="t32"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t33"></a><h3 class="t3">4.3.2 /proc/$pid/environ<a id="RxxKap04002040001361F01F112" name="RxxKap04002040001361F01F112"></a> 
      <a href="#t2t34"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><a href="#t2t32"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999255" name="Xxx999255"></a>Jeder Prozess hat au&szlig;erdem auch eine Prozessumgebung. Welche Umgebungsvariablen f&uuml;r welchen Prozess gesetzt sind, k&ouml;nnen Sie mit <span class="listing">environ</span> im <span class="listing">/proc</span>-Verzeichnis der Prozess-ID erfragen. Hier soll weiterhin der Prozess mit der ID 2167, die Entwicklungsumgebung Anjuta, beobachtet werden:</p>
<pre>$ strings -f /proc/2167/environ
/proc/2167/environ: LESSKEY=/etc/lesskey.bin
/proc/2167/environ:MANPATH=/usr/local/man:/usr/share/man:/..
/proc/2167/environ:INFODIR=/usr/local/info:/usr/share/...
/proc/2167/environ: NNTPSERVER=news 
...
/proc/2167/environ: KDE_FULL_SESSION=true
/proc/2167/environ: KDE_MULTIHEAD=false
/proc/2167/environ: SESSION_MANAGER=local/linux:/tmp/.IC...
/proc/2167/environ: KDE_STARTUP_ENV=linux;1068759934;528706;1890</pre>
<p>Wenn es auch hier wieder nicht mit strings klappen sollte, dann sollten Sie es mit Folgendem probieren:</p>
<pre># tr '\0' '\n' &lt; /proc/2167/environ</pre>
<a name="t33"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t34"></a><h3 class="t3">4.3.3 /proc/self<a id="RxxKap04002040001361F01F117" name="RxxKap04002040001361F01F117"></a> 
      <a href="#t2t35"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><a href="#t2t33"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999261" name="Xxx999261"></a>Wollen Sie die aktuelle Prozess-ID Ihres eigenen Programms ermitteln, so k&ouml;nnen Sie <span class="listing">  /proc/self</span> auswerten. Bei diesem Eintrag handelt es sich um einen symbolischen Link des aktuell laufenden Prozesses. Das aktuelle Programm sollten Sie aber nicht mit der Shell verwechseln (versuchen Sie selbst: <span class="listing">ls</span> <span class="listing">-dl</span> <span class="listing">/proc/self</span> und <span class="listing">ls</span> <span class="listing">-dl</span> <span class="listing">/proc/$$</span>). Diesen symbolischen Link k&ouml;nnen Sie mit der Funktion <span class="listing">readlink()</span> auslesen. Hier ein Listing, das demonstriert, wie Sie die Prozess-ID des aktuell laufenden Programms ermitteln k&ouml;nnen:</p>
<pre><a id="Xxx999263" name="Xxx999263"></a>/* my_getpid.c */
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;unistd. h.&gt;
int main (void) {
   char buf[64];
   int pid;
   memset(buf, '\0', sizeof(buf));
   readlink("/proc/self", buf, sizeof(buf) - 1);
   sscanf(buf, "%d", &amp;pid);    
   printf("Meine Prozess-ID lautet: %d\n", pid);
   return EXIT_SUCCESS;
}</pre>
<p>Das Programm bei seiner Ausf&uuml;hrung:</p>
<pre>$ gcc -o my_getpid my_getpid.c
$ ./my_getpid
Meine Prozess-ID lautet: 2256</pre>
<br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<tr>
<td class="tabellentext" bgcolor="#000000">
<p class="BStandard"><b>Hinweis   </b>Das Beispiel stellt nat&uuml;rlich nur eine Demonstration dar. In der Praxis werden Sie auf die Funktion <span class="listing">getpid()</span> f&uuml;r die Ermittlung der Prozess-ID des laufenden Programms zur&uuml;ckgreifen.</p>
</td>
</tr>
</table><br>
<a name="t34"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t35"></a><h3 class="t3">4.3.4 /proc/$pid/fd/<a id="RxxKap04002040001361F01F17A" name="RxxKap04002040001361F01F17A"></a> 
      <a href="#t2t36"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><a href="#t2t34"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999272" name="Xxx999272"></a><a id="Xxx999273" name="Xxx999273"></a>Ein weiterer Eintrag ist <span class="listing">fd</span>, ein Unterverzeichnis, das alle Eintr&auml;ge von Filedeskiptoren beinhaltet, die ein Prozess ge&ouml;ffnet hat. Jeder Eintrag darin ist ein symbolischer Link, der auf eine bestimmte Datei lesend oder schreibend zur&uuml;ckgreift. Nat&uuml;rlich sind hierbei auch immer die Standard-Filedeskriptoren (0, 1, 2) enthalten (es sei denn, sie wurden geschlossen, was viele D&auml;monen etc. tun!). &Ouml;ffnen Sie eine Konsole, und geben Sie <span class="listing">ps</span> ein:</p>
<pre>$ ps
 PID TTY          TIME CMD
 1988 pts/1    00:00:00 bash
 2827 pts/1    00:00:00 ps</pre>
<p>Wollen Sie jetzt wissen, welche Filedeskiptoren bash offen hat, machen Sie Folgendes:</p>
<pre>$ ls -l /proc/1988/fd/
insgesamt 0
lrwx------ 1 tot   users   64 2003–11–14 00:50 0-&gt;/dev/pts/1
lrwx------ 1 tot   users   64 2003–11–14 00:50 1-&gt;/dev/pts/1
lrwx------ 1 tot   users   64 2003–11–14 00:50 2-&gt;/dev/pts/1</pre>
<p>Hierbei k&ouml;nnen Sie die drei Standard-Filedeskriptoren als symbolischen Link auf dem Pseudo-Terminal <span class="listing">pts/1</span> wieder erkennen. Sie k&ouml;nnen jetzt ohne weiteres auf diese Filedeskriptoren zugreifen:</p>
<pre>$ echo "Ein Beweis gef&auml;llig?" &gt; /proc/1988/fd/1
Ein Beweis gef&auml;llig?</pre>
<p>Hier wurde die Standardausgabe von <span class="listing">echo</span> auf die eigentliche Standardausgabe des Pseudo-Terminals »geleitet«.</p>
<a name="t35"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t36"></a><h3 class="t3">4.3.5 /proc/$pid/statm<a id="RxxKap04002040001361F01F182" name="RxxKap04002040001361F01F182"></a> 
      <img src="common/15x15leer.gif" width="15" height="15" border="0" alt="top"><a href="#t2t35"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999282" name="Xxx999282"></a>Informationen zur Speicherbelegung eines Prozesses werden im <span class="listing">statm</span>-File hinterlegt. Wollen Sie z. B. die Speicherbelegung der Entwicklungsumgebung Anjuta ermitteln, gehen Sie folgenderma&szlig;en vor:</p>
<pre>$ cat /proc/2167/statm
2671 2670 1678 302 0 2368 992</pre>
<p>Sie bekommen dabei sieben verschiedene Zahlen zur&uuml;ck. Hier die Bedeutung der einzelnen Zahlen von links nach rechts:</p>
<table width="100%" border="0">
<tr>
<td valign="top" width="10"><b>1.</b></td>
<td valign="top" width="100%" align="left"> Gesamte Programmgr&ouml;&szlig;e in Kilobyte</td>
</tr>
<tr>
<td valign="baseline" width="16">
                 
            </td>
<td valign="top" width="100%" align="left">
                 
            </td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="top" width="10"><b>2.</b></td>
<td valign="top" width="100%" align="left"> Gr&ouml;&szlig;e von Speicherteilen in Kilobyte</td>
</tr>
<tr>
<td valign="baseline" width="16">
                 
            </td>
<td valign="top" width="100%" align="left">
                 
            </td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="top" width="10"><b>3.</b></td>
<td valign="top" width="100%" align="left"> Anzahl von »geshareten« Seiten (so genannte Pages)</td>
</tr>
<tr>
<td valign="baseline" width="16">
                 
            </td>
<td valign="top" width="100%" align="left">
                 
            </td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="top" width="10"><b>4.</b></td>
<td valign="top" width="100%" align="left"> Anzahl Seiten von Programmcode</td>
</tr>
<tr>
<td valign="baseline" width="16">
                 
            </td>
<td valign="top" width="100%" align="left">
                 
            </td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="top" width="10"><b>5.</b></td>
<td valign="top" width="100%" align="left"> Anzahl Seiten von Stack/Daten</td>
</tr>
<tr>
<td valign="baseline" width="16">
                 
            </td>
<td valign="top" width="100%" align="left">
                 
            </td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="top" width="10"><b>6.</b></td>
<td valign="top" width="100%" align="left"> Anzahl Seiten von Bibliotheksprogrammcode</td>
</tr>
<tr>
<td valign="baseline" width="16">
                 
            </td>
<td valign="top" width="100%" align="left">
                 
            </td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="top" width="10"><b>7.</b></td>
<td valign="top" width="100%" align="left"> Anzahl von unsauberen Seiten</td>
</tr>
<tr>
<td valign="baseline" width="16">
                 
            </td>
<td valign="top" width="100%" align="left">
                 
            </td>
</tr>
</table>
<p>Es gibt noch weitere n&uuml;tzliche Informationen zu den Prozessen, die Sie jetzt in der folgenden Tabellen aufgelistet finden. <span class="listing">$pid</span> ersetzen Sie bitte f&uuml;r eine echte Prozess-ID.</p>
<br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<caption class="tabunter">
<p><span class="tabunter"><b>Tabelle 4.2   
    </b>Prozessinformationen in den individuellen PID-Verzeichnissen</span></p>
</caption>
<tr>
<td class="tabellenkopf" bgcolor="#000000"><b>Verzeichniseintrag</b>
</td>
<td class="tabellenkopf" bgcolor="#000000"><b>Bedeutung</b>
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000"><a id="Xxx999300" name="Xxx999300"></a>/proc/$pid/status
</td>
<td class="tabellentext" bgcolor="#000000">Darin finden Sie die formatierten Informationen, die Sie ebenfalls mit /proc/$pid/stat (allerdings nicht formatiert) ermitteln k&ouml;nnen. Dies sind Informationen wie die Prozess-ID, die reale und effektive User- und Group-ID, Speicherverbrauch, Bitmasken usw.
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000"><a id="Xxx999305" name="Xxx999305"></a>/proc/$pid/stat
</td>
<td class="tabellentext" bgcolor="#000000">Siehe /proc/$pid/status.
Dies ist eine etwas kompaktere Datei, die sich besser als »status« mit sscanf() oder fscanf() verwenden l&auml;sst.
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000"><a id="Xxx999310" name="Xxx999310"></a>/proc/$pid/cwd
</td>
<td class="tabellentext" bgcolor="#000000">Ein symbolischer Link zum aktuellen Arbeitsverzeichnis des Prozesses
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000"><a id="Xxx999315" name="Xxx999315"></a>/proc/$pid/exe
</td>
<td class="tabellentext" bgcolor="#000000">Ein Verweis auf die ausf&uuml;hrbare Programmdatei
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000"><a id="Xxx999320" name="Xxx999320"></a>/proc/$pid/root
</td>
<td class="tabellentext" bgcolor="#000000">Ein Link zum Root-Verzeichnis, das als Wurzelverzeichnis f&uuml;r den Prozess gilt (siehe chroot())
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000"><a id="Xxx999325" name="Xxx999325"></a>/proc/$pid/maps
</td>
<td class="tabellentext" bgcolor="#000000">Beinhaltet Speicher-Mappings zu den verschiedenen laufenden Dateien und Bibliotheken, die mit diesem Prozess zusammenh&auml;ngen. Die Datei kann sehr lang werden, wenn ein umfangreicher Prozess ausgef&uuml;hrt wird.
</td>
</tr>
</table><br>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="100%" class="start" colspan="1" height="22" align="center">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20%"><a class="navnav" href="Kap04-001.html"> &lt;&lt; zur&uuml;ck</a></td>
<td width="59%">
<div align="center"><a class="navnav" href="#">&lt;top&gt;</a></div>
</td>
<td align="right" width="20%">
<div align="right"><a class="navnav" href="Kap04-003.html">vor &gt;&gt; </a></div>
</td>
</tr>
</table>
</td>
</tr>
</table>
</div>
</td>
<td width="10" valign="top">&nbsp;&nbsp;</td>
<td width="160" valign="top">
    <table border="0" cellpadding="0" cellspacing="0" width="160">
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2">
                            &nbsp;<a href="https://www.rheinwerk-verlag.de/?GPP=oplup" class="navs">
                            <strong>Zum Katalog</strong></a>
                        </td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2">
                            <img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td><a href="https://www.rheinwerk-verlag.de/linux-unix-programmierung_1137/?GPP=oplup">
                                        <img src="common/749.gif"  border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux-UNIX-Programmierung" title="Zum Katalog: Linux-UNIX-Programmierung">
                                        <br /><strong>Linux-UNIX-<br />Programmierung</strong><br /><img src="common/pfeil_rechts5.gif" border="0" alt="">bestellen</a>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2"><strong>&nbsp;Ihre Meinung?</strong></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td>Wie hat Ihnen das &lt;openbook&gt; gefallen?<br /><a href="https://www.rheinwerk-verlag.de/feedback/"><img src="common/pfeil_rechts5.gif" border="0" alt="">Ihre Meinung</a>
                                    <br /><br /></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2">&nbsp;<a href="https://www.rheinwerk-verlag.de/?GPP=oplup" class="navs"><strong>Buchtipps</strong></a></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/linux-server_3685/?GPP=oplup">
                        <img src="common/3020.gif" width="78" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux-Server" title="Zum Katalog: Linux-Server"><br /><br /><br /><br /><br /><br /><br />&nbsp;Linux-Server</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/das-komplettpaket-lpic-1-lpic-2_3782/?GPP=oplup">
                        <img src="common/3529.gif" width="70" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Das Komplettpaket LPIC-1 &amp; LPIC-2" title="Zum Katalog: Das Komplettpaket LPIC-1 &amp; LPIC-2"><br /><br /><br /><br /><br /><br /><br />&nbsp;Das Komplettpaket<br />&nbsp;LPIC-1 &amp; LPIC-2</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/linux-hochverfugbarkeit_3420/?GPP=oplup">
                        <img src="common/2542.gif" width="70" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux-Hochverfügbarkeit" title="Zum Katalog: Linux-Hochverfügbarkeit"><br /><br /><br /><br /><br /><br /><br />&nbsp;Linux-<br />&nbsp;Hochverfügbarkeit</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/shell-programmierung_3345/?GPP=oplup">
                        <img src="common/2310.gif" width="69" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Shell-Programmierung" title="Zum Katalog: Shell-Programmierung"><br /><br /><br /><br /><br /><br /><br />&nbsp;Shell-<br />&nbsp;Programmierung</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/linux_3436/?GPP=oplup">
                        <img src="common/2591.gif" width="79" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux Handbuch" title="Zum Katalog: Linux Handbuch"><br /><br /><br /><br /><br /><br /><br />&nbsp;Linux Handbuch</a><br /><br /></td>
                    </tr>
                </table></td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2"><strong>&nbsp;Shopping</strong></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td><b>Versandkostenfrei</b> bestellen in Deutschland und &Ouml;sterreich<br /><a href="https://www.rheinwerk-verlag.de/hilfe/bestellung_6?GPP=oplup"><img src="common/pfeil_rechts5.gif" border="0" alt="">Info</a><br /><br /></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</td>
</tr>
</table>
<br /><br />
<hr width="70%" align="center">
<br />
<div align="center">
    <p class="standard">
        <strong>Copyright © Rheinwerk Verlag GmbH 2006</strong>
        <br />F&uuml;r Ihren privaten Gebrauch d&uuml;rfen Sie die Online-Version nat&uuml;rlich 
        ausdrucken. Ansonsten unterliegt das &lt;openbook&gt; denselben Bestimmungen, 
        wie die gebundene Ausgabe: Das Werk einschlie&szlig;lich aller seiner Teile ist 
        urheberrechtlich gesch&uuml;tzt. Alle Rechte vorbehalten einschlie&szlig;lich der 
        Vervielf&auml;ltigung, &Uuml;bersetzung, Mikroverfilmung sowie Einspeicherung und 
        Verarbeitung in elektronischen Systemen.
    </p>
    <br><a href="https://www.rheinwerk-verlag.de/">[Rheinwerk Computing]</a>
    <br /><br />Rheinwerk Verlag GmbH, Rheinwerkallee 4, 53227 Bonn, 
    Tel.: 0228.42150.0, Fax 0228.42150.77, 
    <a href="mailto:service@rheinwerk-verlag.de">service@rheinwerk-verlag.de</a>
</div>
<br /><br />
</body>

<!-- Mirrored from openbook.rheinwerk-verlag.de/linux_unix_programmierung/Kap04-002.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 May 2017 19:57:10 GMT -->
</html>
