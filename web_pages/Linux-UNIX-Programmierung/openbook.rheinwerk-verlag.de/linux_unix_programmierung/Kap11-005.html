<html>

<!-- Mirrored from openbook.rheinwerk-verlag.de/linux_unix_programmierung/Kap11-005.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 May 2017 19:57:38 GMT -->
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Linux-UNIX-Programmierung – 11.6 Grundlegende Funktionen zum Zugriff auf die Socket-Schnittstelle</title>
<meta name="title" content="Linux-UNIX-Programmierung">
<meta name="author" content="J&uuml;rgen Wolf">
<meta name="publisher" content="Rheinwerk Verlag GmbH 2006">
<meta name="copyright" content="Rheinwerk Verlag GmbH 2006">
<meta name="description" content="Linux-UNIX-Programmierung - Das umfassende Handbuch – 2., aktualisierte und erweiterte Auflage 2006 – ISBN 3-89842-749-8">
<meta name="audience" content="Alle">
<meta name="robots" content="INDEX,FOLLOW">
<meta http-equiv="content-language" content="de">
<link rel="stylesheet" type="text/css" href="common/rw_open.css">
<link rel="prev" href="Kap11-004.html">
<link rel="next" href="Kap11-006.html"><script type="text/javascript" language="JavaScript"><!--
function OpenWin(url,name,height,width)
{
  var InfoWin = window.open(url,name,"directories=0,height="+height+",width=" + width + ",hotkeys=0,location=0,menubar=0,resizable=1,screenX=150,screenY=10,left=150,top=10,scrollbars=1,status=1,titlebar=0,toolbar=0");
  InfoWin.focus();
}
//--></script></head>
<body vlink="#000099" link="#000099" alink="#000099">
<table width="100%" height="74" border="0" cellpadding="0" cellspacing="0" bgcolor="#00549d">
<tr>
<td height="74" valign="bottom" colspan="2"><a href="https://www.rheinwerk-verlag.de/openbook/?GPP=oplup"><img src="common/rw_openbook.gif" width="200" height="56" border="0" alt="Rheinwerk Computing < openbook >"></a></td>
<td width="80" height="74">
<a href="https://www.rheinwerk-verlag.de/?GPP=oplup"><img src="common/rw_computing.gif" border="0" alt="Rheinwerk Computing - Professionelle B&uuml;cher. Auch f&uuml;r Einsteiger."></a>
</td>
</tr>
</table><div align="right"><a href="https://www.rheinwerk-verlag.de/?GPP=oplup" class="navnav">Professionelle B&uuml;cher. Auch f&uuml;r Einsteiger</a></div><br /><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="156" valign="top"><table border="0" cellpadding="0" cellspacing="0" width="100%" align="left">
<tr>
<td colspan="2" class="nav1" align="left" valign="top" height="150">
<table class="tbl1" width="150" border="0" cellpadding="3" cellspacing="0">
<tr>
<td class="tbl2" height="25"><A class="nav" href="index-2.html">Inhaltsverzeichnis</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap00a-000.html#Xxx999195">Vorwort des Autors</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap00b-000.html#Xxx999195">Vorwort der Fachgutachter</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap01-000.html#Xxx999235">1 Einf&uuml;hrung</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap02-000.html#Xxx999234">2 E/A-Funktionen</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap03-000.html#Xxx999234">3 Attribute von Dateien und Verzeichnissen</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap04-000.html#Xxx999234">4 Zugriff auf Systeminformationen</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap05-000.html#Xxx999234">5 Devices – eine einfache Verbindung zur Hardware</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap06-000.html#Xxx999234">6 System- und Benutzerdateien</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap07-000.html#Xxx999234">7 D&auml;monen, Zombies und Prozesse</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap08-000.html#Xxx999235">8 Signale</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap09-000.html#Xxx999235">9 IPC – Interprozesskommunikation</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap10-000.html#Xxx999234">10 Threads</A></td>
</tr>
<tr>
<td><A class="navnavh" href="Kap11-000.html#Xxx999235">11 Netzwerkprogrammierung</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap12-000.html#Xxx999236">12 MySQL und PostgreSQL</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap13-000.html#Xxx999235">13 Terminal E/A und Benutzerschnittstellen f&uuml;r die Konsole</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap14-000.html#Xxx999235">14 Xlib – X Window-Programmierung</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap15-000.html#Xxx999235">15 GTK+</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap16-000.html#Xxx999235">16 SDL</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap17-000.html#Xxx999247">17 Werkzeuge f&uuml;r Programmierer</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap18A-000.html#Xxx999248">A Sicherheit unter Linux</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap18B-000.html#Xxx999245">B Funktionsreferenz</A></td>
</tr>
<tr>
<td><A class="navnav" href="Kap18C-000.html#Xxx999245">C Inhalt der Buch-CD</A></td>
</tr>
<tr>
<td><A class="navnav" href="stichwort.html#Xxx537584">Index</A></td>
</tr>
<tr><td><br /><!--<a class="navnav" href="http://download.galileo-press.de/openbook/lup/galileocomputing_linux_unix_programmierung.zip"><strong>Download:</strong><br />- ZIP, ca. 4,3 MB</a></td></tr>
<tr><td><a class="navnav" href="https://www.rheinwerk-verlag.de/1137/?GPP=oplup">Buch bestellen</a></td></tr>
<tr><td>--><a class="navnav" href="https://www.rheinwerk-verlag.de/feedback/">Ihre Meinung?</a><br /><br /></td></tr>
</table></td>
</tr>

</table>
</td>
<td width="10"><img src="common/spacer10.gif" width="10" height="10"></td>
<td width="85%" valign="top" align="center">
<div align="center">
<table width="98%" border="0" cellspacing="0" cellpadding="0" bgcolor="#FFFFFF">
<tr>
<td width="100%" class="start" colspan="1" height="22" align="center">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20%"><a class="navnav" href="Kap11-004.html"> &lt;&lt; zur&uuml;ck</a></td>
<td width="59%">
<div align="center"><a href="https://www.rheinwerk-verlag.de/?GPP=oplup" class="navnav">Rheinwerk Computing /</a><a class="navnav" href="https://www.rheinwerk-verlag.de/openbook/?GPP=oplup"> &lt;openbook&gt; /</a> <a href="index-2.html" class="navnav"> Linux-UNIX-Programmierung</a></div>
</td>
<td align="right" width="20%">
<div align="right"><a class="navnav" href="Kap11-006.html">vor &gt;&gt; </a></div>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="100%" valign="top">
<table width="100%" border="0" cellpadding="10" cellspacing="0" class="box">
<tr>
<td colspan="2"><a href="https://www.rheinwerk-verlag.de/1137/?GPP=oplup" class="buchtitel">Linux-UNIX-Programmierung</a><span class="autor"> von J&uuml;rgen Wolf</span><br><span class="untertitel">Das umfassende Handbuch – 2., aktualisierte und erweiterte Auflage 2006</span></td>
</tr>
<tr>
<td valign="top" width="90"><a href="https://www.rheinwerk-verlag.de/1137/?GPP=oplup"><img src="common/9783898427494.gif" border="0" alt="Buch: Linux-UNIX-Programmierung" title="Buch: Linux-UNIX-Programmierung" align="left"><br /><br /><span class="autor"><strong>Linux-UNIX-Programmierung</strong><br />1216 S., mit CD, 49,90 Euro<br />Rheinwerk Computing<br />ISBN 3-89842-749-8</span></a></a></td>
<td width="80%">
<table border="0">
<tr>
<td valign="baseline"><img src="common/pfeil_u.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="3" class="kap"><b>Kapitel <a href="Kap11-000.html#RxxKap11000040003691F041100">11 Netzwerkprogrammierung</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-000.html#RxxKap11000040003691F041102">11.1 Einf&uuml;hrung</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-001.html#RxxKap11001040003861F042100">11.2 Aufbau von Netzwerken</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-001.html#RxxKap11001040003861F042102">11.2.1 ISO/OSI und TCP/IP – Referenzmodell</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-001.html#RxxKap11001040003861F042117">11.2.2 Das World Wide Web (Internet)</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-002.html#RxxKap11002040003871F03C100">11.3 TCP/IP – Aufbau und Struktur</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-002.html#RxxKap11002040003871F03C107">11.3.1 Netzwerkschicht (Daten&uuml;bertragung)</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-002.html#RxxKap11002040003871F03C109">11.3.2 Internetschicht</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-002.html#RxxKap11002040003871F03C10B">11.3.3 Transportschicht (TCP, UDP)</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-002.html#RxxKap11002040003871F03C10E">11.3.4 Anwendungsschicht</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-003.html#RxxKap11003040003881F040100">11.4 TCP Socket</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-004.html#RxxKap11004040003891F04F102">11.5 Kommunikationsmodell</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a class="navh2" href="#RxxKap110050400038A1F01B100">11.6 Grundlegende Funktionen zum Zugriff auf die Socket-Schnittstelle</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap110050400038A1F01B102">11.6.1 Ein Socket anlegen – socket()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap110050400038A1F01B1A4">11.6.2 Verbindungsaufbau – connect()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap110050400038A1F01B1BB">11.6.3 Socket mit einer Adresse verkn&uuml;pfen – bind()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap110050400038A1F01B1C0">11.6.4 Auf Verbindungen warten – listen() und accept()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap110050400038A1F01B1C8">11.6.5 Senden und Empfangen von Daten (1) – write() und read()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap110050400038A1F01B1CC">11.6.6 Senden und Empfangen von Daten (2) – send() und recv()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a class="navh2" href="#RxxKap110050400038A1F01B1D4">11.6.7 Verbindung schlie&szlig;en – close()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-006.html#RxxKap110060400038B1F02F100">11.7 Aufbau eines Clientprogramms</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-006.html#RxxKap110060400038B1F02F177">11.7.1 Zusammenfassung: Clientanwendung und Quellcode</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-007.html#RxxKap110070400038C1F03A100">11.8 Aufbau des Serverprogramms</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-007.html#RxxKap110070400038C1F03A107">11.8.1 Zusammenfassung: Serveranwendung und Quellcode</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-008.html#RxxKap110080400038D1F039100">11.9 IP-Adressen konvertieren, manipulieren und extrahieren</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-008.html#RxxKap110080400038D1F039102">11.9.1 inet_aton(), inet_pton() und inet_addr()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-008.html#RxxKap110080400038D1F03910E">11.9.2 inet_ntoa() und inet_ntop()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-008.html#RxxKap110080400038D1F039116">11.9.3 inet_network()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-008.html#RxxKap110080400038D1F039178">11.9.4 inet_netof()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-008.html#RxxKap110080400038D1F03917C">11.9.5 inet_lnaof()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-008.html#RxxKap110080400038D1F039180">11.9.6 inet_makeaddr()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-009.html#RxxKap110090400038E1F042100">11.10 Namen und IP-Adressen umwandeln</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-009.html#RxxKap110090400038E1F042108">11.10.1 Name-Server</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-009.html#RxxKap110090400038E1F04210A">11.10.2 Informationen zum Rechner im Netz – gethostbyname und gethostbyaddr</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-009.html#RxxKap110090400038E1F04219F">11.10.3 Service-Informationen – getservbyname() und getservbyport()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-010.html#RxxKap110100400038F1F02E100">11.11 Der Puffer</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-011.html#RxxKap11011040003901F01F100">11.12 Standard-E/A-Funktionen verwenden</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-011.html#RxxKap11011040003901F01F10D">11.12.1 Pufferung von Standard-E/A-Funktionen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-012.html#RxxKap11012040003911F030100">11.13 Parallele Server</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-013.html#RxxKap11013040003921F03B100">11.14 Syncrones Multiplexing – select()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-014.html#RxxKap11014040003931F044100">11.15 POSIX-Threads und Netzwerkprogrammierung</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-015.html#RxxKap11015040003941F043100">11.16 Optionen f&uuml;r Sockets setzen bzw. erfragen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-015.html#RxxKap11015040003941F043102">11.16.1 setsockopt()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-015.html#RxxKap11015040003941F043108">11.16.2 getsockopt()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-015.html#RxxKap11015040003941F04310D">11.16.3 Socket-Optionen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-016.html#RxxKap11016040003951F04F100">11.17 UDP</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-016.html#RxxKap11016040003951F04F10C">11.17.1 Clientanwendung</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-016.html#RxxKap11016040003951F04F112">11.17.2 Serveranwendung</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-016.html#RxxKap11016040003951F04F114">11.17.3 recvfrom() und sendto()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-016.html#RxxKap11016040003951F04F17B">11.17.4 bind() verwenden oder weglassen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-017.html#RxxKap11017040003961F026100">11.18 UNIX-Domain-Sockets (IPC)</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-017.html#RxxKap11017040003961F026105">11.18.1 Die Adressstruktur von UNIX-Domain-Sockets</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-017.html#RxxKap11017040003961F02610F">11.18.2 Lokale Sockets erzeugen – socketpair()</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-018.html#RxxKap11018040003971F01A100">11.19 Multicast-Socket</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-018.html#RxxKap11018040003971F01A180">11.19.1 Anwendungsgebiete von Multicast-Verbindungen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-019.html#RxxKap11019040003981F017100">11.20 Nicht blockierende I/O-Sockets</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-020.html#RxxKap11020040003991F010100">11.21 Etwas zu Streams und TLI, Raw Socket, XTI</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-020.html#RxxKap11020040003991F010102">11.21.1 Raw Socket</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-020.html#RxxKap11020040003991F010106">11.21.2 TLI und XTI</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-020.html#RxxKap11020040003991F010109">11.21.3 RPC (Remote Procedure Call)</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-021.html#RxxKap110210400039A1F048100">11.22 IPv4 und IPv6</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-021.html#RxxKap110210400039A1F048105">11.22.1 IPv6 – ein wenig genauer</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-022.html#RxxKap110220400039B1F03D100">11.23 Netzwerksoftware nach IPv6 portieren</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-022.html#RxxKap110220400039B1F03D103">11.23.1 Konstanten</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-022.html#RxxKap110220400039B1F03D107">11.23.2 Strukturen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline"><b><T3Verw><a href="Kap11-022.html#RxxKap110220400039B1F03D10B">11.23.3 Funktionen</a></b></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="gp"></td>
<td valign="baseline" colspan="2"><b><a href="Kap11-023.html#RxxKap110230400039C1F02F100">11.24 Sicherheit und Verschl&uuml;sselung</a></b></td>
</tr>
</table><br></td>
</tr>
</table>
<table width="100%" cellpadding="20" cellspacing="0" border="0" bgcolor="#eeeeee">
<tr>
<td>
<a name="t21"></a><a name="t2t31"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div>
<h2 class="t2">11.6 <a id="RxxKap1177GrundlegendeFunktionenzumZugriffaufdieSocketSchnittstelle" name="RxxKap1177GrundlegendeFunktionenzumZugriffaufdieSocketSchnittstelle"></a>Grundlegende Funktionen zum Zugriff auf die Socket-Schnittstel<a id="RxxKap110050400038A1F01B100" name="RxxKap110050400038A1F01B100"></a>le 
      <a href="#t2t32"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><img src="common/15x15leer.gif" width="15" height="15" border="0" alt="top"></h2>
<p><a id="Xxx999236" name="Xxx999236"></a>Um auf eine TCP-Verbindung bzw. auf die Sockets zugreifen zu k&ouml;nnen, stellt Ihnen das Betriebssystem mittels Systemaufrufen eine Menge Funktionen zur Verf&uuml;gung. Im folgenden Abschnitt will ich Ihnen die grundlegenden Funktionen zum Verbindungsaufbau, zur Daten&uuml;bertragung und zum Beenden einer solchen Verbindung vorstellen.</p>
<a name="t31"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t32"></a><h3 class="t3">11.6.1 Ein Socket anlegen – socket()<a id="RxxKap110050400038A1F01B102" name="RxxKap110050400038A1F01B102"></a> 
      <a href="#t2t33"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><a href="#t2t31"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999239" name="Xxx999239"></a><a id="Xxx999240" name="Xxx999240"></a>EinSocket k&ouml;nnen Sie mit der Funktion <span class="listing">socket()</span> anlegen:</p>
<pre>#include &lt;sys/types.h&gt;
#include &lt;sys/socket.h&gt;
int socket (int family, int type, int protocol);</pre>
<p>Mit dem ersten Parameter geben Sie die Protokollfamilie an, die Sie verwenden wollen. Gew&ouml;hnlich werden Sie meistens hierbei <span class="listing">AF_INET</span> f&uuml;r die Internet-Familie (TCP/IP) angeben oder – sofern Sie Sockets zur Interprozesskommunikation innerhalb eines UNIX-Rechners verwenden wollen – <span class="listing">AF_UNIX</span>.<a id="Xxx999244" name="Xxx999244"></a><a id="Xxx999245" name="Xxx999245"></a><a id="Xxx999246" name="Xxx999246"></a><a id="Xxx999247" name="Xxx999247"></a></p>
<br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<caption class="tabunter">
<p><span class="tabunter"><b>Tabelle 11.1   
    </b>Protokollfamilie f&uuml;r den ersten Parameter von socket()</span></p>
</caption>
<tr>
<td class="tabellenkopf" bgcolor="#000000"><b>Adressfamilie</b>
</td>
<td class="tabellenkopf" bgcolor="#000000"><b>Protokollfamilie</b>
</td>
<td class="tabellenkopf" bgcolor="#000000"><b>Bedeutung</b>
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">AF_INIX<a id="Xxx999256" name="Xxx999256"></a>,
AF_UNIX<a id="Xxx999258" name="Xxx999258"></a>,
AF_LOCAL<a id="Xxx999259" name="Xxx999259"></a>
</td>
<td class="tabellentext" bgcolor="#000000">PF_UNIX<a id="Xxx999261" name="Xxx999261"></a>,
PF_LOCAL<a id="Xxx999263" name="Xxx999263"></a>  
</td>
<td class="tabellentext" bgcolor="#000000">Lokale Kommunikation (IPC)
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">AF_INET<a id="Xxx999267" name="Xxx999267"></a>  
</td>
<td class="tabellentext" bgcolor="#000000">PF_INET<a id="Xxx999270" name="Xxx999270"></a>       
</td>
<td class="tabellentext" bgcolor="#000000">IPv4 Internet-Protokoll (TCP/IP) 
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">AF_INET6<a id="Xxx999275" name="Xxx999275"></a>  
</td>
<td class="tabellentext" bgcolor="#000000">PF_INET6<a id="Xxx999278" name="Xxx999278"></a>      
</td>
<td class="tabellentext" bgcolor="#000000">IPv6 Internet-Protokoll
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">AF_IPX<a id="Xxx999283" name="Xxx999283"></a>  
</td>
<td class="tabellentext" bgcolor="#000000">PF_IPX<a id="Xxx999286" name="Xxx999286"></a>       
</td>
<td class="tabellentext" bgcolor="#000000">IPX – Novell-Protokoll
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">AF_NETLINK<a id="Xxx999291" name="Xxx999291"></a>  
</td>
<td class="tabellentext" bgcolor="#000000">PF_NETLINK<a id="Xxx999294" name="Xxx999294"></a>     
</td>
<td class="tabellentext" bgcolor="#000000">Kernel User Interface Device Netlink(7)
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">AF_X25<a id="Xxx999299" name="Xxx999299"></a>  
</td>
<td class="tabellentext" bgcolor="#000000">PF_X25<a id="Xxx999302" name="Xxx999302"></a>       
</td>
<td class="tabellentext" bgcolor="#000000">ITU-T X.25/ISO-8208-Protokoll x25(7)
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">AF_AX25<a id="Xxx999307" name="Xxx999307"></a>  
</td>
<td class="tabellentext" bgcolor="#000000">PF_AX25<a id="Xxx999310" name="Xxx999310"></a>       
</td>
<td class="tabellentext" bgcolor="#000000">Amateur Radio AX.25-Protokoll
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">AF_ATMPCV<a id="Xxx999315" name="Xxx999315"></a>  
</td>
<td class="tabellentext" bgcolor="#000000">PF_ATMPVC<a id="Xxx999318" name="Xxx999318"></a>      
</td>
<td class="tabellentext" bgcolor="#000000">Access to raw ATM PVCs
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">AF_APPLETALK<a id="Xxx999323" name="Xxx999323"></a>  
</td>
<td class="tabellentext" bgcolor="#000000">PF_APPLETALK<a id="Xxx999326" name="Xxx999326"></a>    
</td>
<td class="tabellentext" bgcolor="#000000">AppleTalk DDS
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">AF_PACKET<a id="Xxx999331" name="Xxx999331"></a>
</td>
<td class="tabellentext" bgcolor="#000000">PF_PACKET<a id="Xxx999334" name="Xxx999334"></a>      
</td>
<td class="tabellentext" bgcolor="#000000">Low-Level-Packet-Schnittstelle
</td>
</tr>
</table><br>
<br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<tr>
<td class="tabellentext" bgcolor="#000000">
<p class="BStandard"><b>Hinweis   </b>Unter BSD 4.x werden f&uuml;r die Protokollfamilien die Konstanten <span class="listing">PF_*</span> verwendet, w&auml;hrend die Konstanten <span class="listing">AF_*</span> f&uuml;r die Adressfamilien verwendet werden. Allerdings sollte Sie das nicht verwirren, denn in der BSD-Dokumentation ist zu lesen, dass die Protokollfamilie dasselbe ist wie die Adressfamilie.</p>
</td>
</tr>
</table><br>
<p><a id="Xxx999352" name="Xxx999352"></a><a id="Xxx999353" name="Xxx999353"></a>Mit dem zweiten Parameter spezifizieren Sie den Typ des Sockets. Gew&ouml;hnlich gibt man hier entweder <span class="listing">SOCK_STREAM</span> (Streaming-Protokoll) an, womit TCP als Transportprotokoll verwendet wird, oder den Typ <span class="listing">SOCK_DGRAM</span> (Datagrammprotokoll) f&uuml;r UDP als Transportprotokoll. Nat&uuml;rlich k&ouml;nnen hierbei noch weitere Angaben gemacht werden – die allerdings in der Praxis recht selten ben&ouml;tigt werden. Hier f&uuml;r den Fall der F&auml;lle ein &Uuml;berblick &uuml;ber die verschiedenen m&ouml;glichen Angaben zum Typ des Sockets, die nicht alle bei den Protokollfamilien implementiert sein m&uuml;ssen.</p>
<br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<caption class="tabunter">
<p><span class="tabunter"><b>Tabelle 11.2   
    </b>Typ des Sockets wird als zweiter Parameter von socket() verwendet.</span></p>
</caption>
<tr>
<td class="tabellenkopf" bgcolor="#000000"><b>Socket-Typ</b>
</td>
<td class="tabellenkopf" bgcolor="#000000"><b>Bedeutung</b>
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">SOCK_STREAM<a id="Xxx999361" name="Xxx999361"></a>
</td>
<td class="tabellentext" bgcolor="#000000">Damit wird festgelegt, dass &uuml;ber eine (zuverl&auml;ssige) Zwei-Wege-Verbindung Datenstr&ouml;me &uuml;bertragen werden (TCP).
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">SOCK_DGRAM<a id="Xxx999366" name="Xxx999366"></a>
</td>
<td class="tabellentext" bgcolor="#000000">Jedes Datenpaket (mit einer festen L&auml;nge) wird einzeln betrachtet (Datagramm-Transportprotokoll – UDP).
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">SOCK_SEQPACKET<a id="Xxx999371" name="Xxx999371"></a>
</td>
<td class="tabellentext" bgcolor="#000000">Damit haben Sie einen verl&auml;sslichen &Uuml;bertragungspfad f&uuml;r Datagramme mit fester L&auml;nge, nur muss der Empf&auml;nger ein ganzes Paket mit jedem Funktionsaufruf lesen.
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">SOCK_RAW<a id="Xxx999376" name="Xxx999376"></a>
</td>
<td class="tabellentext" bgcolor="#000000">Damit haben Sie Zugriff auf interne Netzwerkprotokolle und Schnittstellen (nur IP).
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">SOCK_RDM<a id="Xxx999381" name="Xxx999381"></a>
</td>
<td class="tabellentext" bgcolor="#000000">Bietet eine Datagrammschicht, die das Sortieren der Pakete nicht garantiert.
</td>
</tr>
<tr>
<td class="tabellentext" bgcolor="#000000">SOCK_PACKET<a id="Xxx999386" name="Xxx999386"></a>
</td>
<td class="tabellentext" bgcolor="#000000">veraltet, stattdessen PF_PACKET benutzen (siehe man packet(7))
</td>
</tr>
</table><br>
<p>Mit dem dritten Parameter von <span class="listing">socket()</span> k&ouml;nnen Sie das zu benutzende Protokoll ausw&auml;hlen. Geben Sie hierf&uuml;r 0 an, was meistens in der Praxis auch der Fall ist, wird das Standardprotokoll f&uuml;r den jeweiligen Socket-Typ ausgew&auml;hlt, z. B. wird bei <span class="listing">SOCK_STREAM</span> das TCP-Protokoll und bei <span class="listing">SOCK_DGRAM</span> das UDP-Protokoll verwendet. Da es allerdings ohnehin zu jedem Socket einer Protokollfamilie nur ein einziges Protokoll gibt, ist klar, warum gew&ouml;hnlich 0 angegeben wird.</p>
<p>Bei Erfolg gibt die Funktion <span class="listing">socket()</span> den Socket-Deskriptor zur&uuml;ck. Ansonsten wird bei einem Fehler -1 zur&uuml;ckgegeben. Mit diesem Socket-Deskriptor (eine positive Ganzzahl) k&ouml;nnen Sie das Socket von nun an verwenden.</p>
<p>Nat&uuml;rlich haben Sie mit dem Anlegen eines Sockets noch lange keine Verbindung erstellt. Sie haben lediglich festgelegt, mit welchem Protokoll das Socket arbeitet. Sie k&ouml;nnen sich das gerne wie das Installieren einer Stromsteckdose vorstellen. In aller Welt gibt es viele verschiedene Formen und Normen.</p>
<h4 class="t4">Socket-Deskriptor</h4>
<p><a id="Xxx999402" name="Xxx999402"></a><a id="Xxx999403" name="Xxx999403"></a>Bei der Syntax von <span class="listing">socket()</span> war die Rede von einem Socket-Deskriptor, den diese Funktion zur&uuml;ckgibt. Die erste Frage, die sich wohl stellt, d&uuml;rfte sein, inwiefern sich dieser Socket-Deskriptor von einem Filedeskriptor unterscheidet? Und in der Tat ist der Unterschied auf den ersten Blick nicht gro&szlig;. Sobald Sie einen Socket erzeugt haben, k&ouml;nnen Sie mithilfe des <span class="listing">int</span>-Wertes z. B. mit den elementaren Funktionen wie u. a. <span class="listing">read()</span>, <span class="listing">write()</span> usw. darauf zur&uuml;ckgreifen. Dennoch gibt es ein paar geringf&uuml;gige Dinge, die man zwischen einem Socket- und Filedeskriptor unterscheidet:</p>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"> Im Gegensatz zum Filedeskriptor kann aus einem Socket-Deskriptor nicht jederzeit gelesen bzw. geschrieben werden. Die Ein- bzw. Ausgabe ist bei den Socket-Deskriptoren nur m&ouml;glich, wenn sich das Socket im richtigen Zustand befindet.</td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"> Sie k&ouml;nnen kein <span class="listing">lseek</span> auf einen Socket-Deskriptor ausf&uuml;hren lassen.</td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"> Die Einstellungen bzw. Attribute, die man mit <span class="listing">ioctl()</span> setzen bzw. abfragen kann, von Sokket-deskriptoren (im Gegensatz zu Filedeskriptoren) sind anders.</td>
</tr>
</table>
<table width="100%" border="0">
<tr>
<td valign="baseline" width="16"><img src="common/gp.gif" width="8" height="9" border="0" alt="gp"> 
        </td>
<td valign="top" width="100%" align="left"> Sockets kann man eine Adresse zuweisen, was bei Dateien und Pipes nicht geht.</td>
</tr>
</table>
<a name="t32"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t33"></a><h3 class="t3">11.6.2 Verbindungsaufbau – connect()<a id="RxxKap110050400038A1F01B1A4" name="RxxKap110050400038A1F01B1A4"></a> 
      <a href="#t2t34"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><a href="#t2t32"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999410" name="Xxx999410"></a><a id="Xxx999411" name="Xxx999411"></a>Wollen Sie jetzt mit einem Prozess eine Verbindung zu einem anderen Prozess aufbauen und haben bereits ein Socket erzeugt, kann die Funktion <span class="listing">connect()</span> aufgerufen werden.<a id="Xxx999413" name="Xxx999413"></a></p>
<pre>#include &lt;sys/types.h&gt;
#include &lt;sys/socket.h&gt;
int connect ( int sockfd,
              struct sockaddr *adresse, 
              socklen_t addressen_laenge );</pre>
<p>Gew&ouml;hnlich wird der <span class="listing">connect()</span>-Aufruf vom Clientprogramm ausgef&uuml;hrt, um eine Verbindung zum Server herzustellen. Der erste Parameter gibt das Socket an, &uuml;ber das Sie auf die Verbindung zugreifen wollen. Der zweite Parameter <span class="listing">adresse</span> enth&auml;lt die Anfangsadresse der Struktur <span class="listing">sockaddr</span>, worin sich die IP-Adresse des Rechners und die Portnummer befinden. Diese Struktur ist wie folgt definiert:</p>
<pre>#include &lt;sys/socket.h&gt;
#include &lt;netinet/in.h&gt;
struct sockaddr_in {
    unsigned short int  sin_family;  /* AF_INET     */
    unsigned short int  sin_port;    /* Portnummer */
    struct in_addr      sin_addr;    /* IP-Adresse  */
};</pre>
<p>Mit dem letzten Parameter in <span class="listing">connect()</span> geben Sie den Speicherbedarf des zweiten Parameters an. Bei erfolgreicher Verbindung gibt diese Funktion 0, ansonsten bei einem Fehler -1 zur&uuml;ck.</p>
<br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<tr>
<td class="tabellentext" bgcolor="#000000">
<p class="BStandard"><b>Hinweis   </b>Wenn Sie UDP anstatt TCP verwenden, k&ouml;nnen Sie auf einen Aufruf von <span class="listing">connect()</span> verzichten. Dann allerdings m&uuml;ssen Sie die entsprechende Adressinformation bei den Funktionen <span class="listing">sendto()</span> zum Senden und <span class="listing">recvfrom()</span> zum Empfangen von Daten erg&auml;nzen.</p>
</td>
</tr>
</table><br>
<h4 class="t4">Die Socket-Adressstruktur etwas genauer</h4>
<p><a id="Xxx999423" name="Xxx999423"></a><a id="Xxx999424" name="Xxx999424"></a>Da die meisten Funktionen mit Sockets die Adresse einer Socket-Adressstruktur als Argument erwarten, soll hierauf etwas n&auml;her eingegangen werden, da diese Struktur schon h&auml;ufiger zu Missverst&auml;ndnissen gef&uuml;hrt hat. H&auml;ufig finden Sie die Struktur <span class="listing">sockaddr_in</span> in der Headerdatei <span class="listing">&lt;netinet/in.h&gt;</span> wie folgt definiert:</p>
<pre>struct sockaddr_in {
   uint8_t        sin_len;     // L&auml;nge der Struktur
   sa_family_t    sin_family;  // AF_INET
   in_port_t      sin_port;    // 16-Bit-Portnummer
   struct in_addr sin_addr;    // 32-Bit-IPv4-Adresse 
   char           sin_zero[];  // nicht verwendet 
}
struct in_addr {
   in_addr_t  s_addr;          // 32-Bit-IPv4-Adresse
}</pre>
<p>Im Gegensatz zur zuvor gezeigten Struktur finden Sie hierbei au&szlig;erdem noch <span class="listing">sin_len</span> und <span class="listing">sin_zero</span>, die allerdings beide nicht dem POSIX-Standard entsprechen und daher ggf. vermieden werden sollten. Die verschiedenen Datentypen finden Sie in <span class="listing">&lt;sys/types.h&gt;</span> und <span class="listing">&lt;bits/types.h&gt;</span> definiert.</p>
<p>In der Praxis sollte man zun&auml;chst diese Struktur immer mit Nullen f&uuml;llen, was gew&ouml;hnlich mit <span class="listing">memset()</span> oder <span class="listing">bzero()</span> gemacht wird.</p>
<pre>struct sockaddr_in addr;
...
/* Vor der Verwendung mit Nullen f&uuml;llen */
memset(&amp;addr, 0, sizeof(addr));
...</pre>
<p><a id="Xxx999430" name="Xxx999430"></a>An dieser Stelle folgt nun ein recht h&auml;ufiger Stolperstein, &uuml;ber den viele Anf&auml;nger fallen. Denn beim genaueren Betrachten der Syntax aller Socket-Funktionen f&auml;llt immer auf, dass hierbei die Rede von einer Struktur namens <span class="listing">sockaddr</span> und nicht <span class="listing">sockaddr_in</span> ist, z. B.:</p>
<pre>int connect(int s, struct sockaddr *serv_addr, int addrlen);</pre>
<p>Die Syntax dieser Struktur sieht wie folgt aus:</p>
<pre>struct sockaddr {
   uint8_t      sa_len;  // L&auml;nge der Struktur - nicht POSIX 
   sa_family_t  sa_family;   // Adressfamilie AF....
   char         sa_data[14]; // Protokollspezifische Adresse
}</pre>
<p>Diese Struktur wurde so implementiert, dass diese unabh&auml;ngig von der verwendeten Adressfamilie ist, was allerdings auch bedeutet, dass diese Struktur recht umst&auml;ndlich auszuf&uuml;llen ist. Daher gibt es f&uuml;r IP-Anwendungen die Struktur <span class="listing">sockaddr_in</span>, womit die IP-Adresse und Portnummer getrennt eingetragen werden. Zum Gl&uuml;ck sind diese beiden Strukturen im Speicher kompatibel, so dass eine einfache Typenumwandlung ausreicht, wenn Sie keine Warnung vom Compiler erhalten m&ouml;chten.</p>
<pre>struct sockaddr_in addr;
...
connect( fd, (struct sockaddr *)&amp;addr, sizeof(addr));</pre>
<p>&Auml;hnlich sieht &uuml;brigens auch die Syntax zur Socket-Adressstruktur <span class="listing">sockaddr_in6</span> f&uuml;r IPv6 aus, die ebenfalls in der Headerdatei <span class="listing">&lt;netinet/in.h&gt;</span> definiert ist:</p>
<pre>struct sockaddr_in6 {
   uint8_t         sin6_len;         // L&auml;nge der Struktur
   sa_family_t     sin6_family;      // AF_INET6
   in_port_t       sin6_port;        // 16-Bit-Portnummer
   struct in6_addr sin6_addr;        // 128-Bit-IPv6-Adresse
   // Priorit&auml;t in der Netzwerk-Byteanordnung
   uint32_t        sin6_flowinfo;    
}
struct in6_addr {
   uint8_t  s6_addr[16];             // 128-Bit-IPv6-Adresse 
}              // unter Linux findet man hier eine union ...</pre>
<p>Sofern Sie also wieder etwas mit den Socket-Adressstrukturen durcheinander bringen sollten, so beziehen Sie sich am besten auf dieses Kapitel.</p>
<a name="t33"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t34"></a><h3 class="t3">11.6.3 Socket mit einer Adresse verkn&uuml;pfen – bind()<a id="RxxKap110050400038A1F01B1BB" name="RxxKap110050400038A1F01B1BB"></a> 
      <a href="#t2t35"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><a href="#t2t33"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999441" name="Xxx999441"></a><a id="Xxx999442" name="Xxx999442"></a>Um dem zuvor erzeugten Socket mitzuteilen, zu welchem Port dieses geh&ouml;rt, wird die Funktion <span class="listing">bind()</span> verwendet.<a id="Xxx999444" name="Xxx999444"></a></p>
<pre>#include &lt;sys/types.h&gt;
#include &lt;sys/socket.h&gt;
int bind ( int sockfd, 
           struct sockaddr *adresse,
           socklen_t adressen_laenge );</pre>
<p>Erst durch den <span class="listing">bind()</span>-Aufruf n&auml;mlich macht der <span class="listing">connect()</span>-Aufruf Sinn. Denn damit wird »unser« Socket an einem Port befestigt, dessen Nummer beim <span class="listing">connect()</span>-Aufruf angegeben wird. Die Funktion von <span class="listing">bind()</span> l&auml;sst sich recht einfach erkl&auml;ren. Wenn Sie einen Bekannten anrufen wollen, haben aber aus Versehen die falsche Nummer eingegeben, kann es passieren, dass Sie entweder keinen Anschluss unter dieser Nummer bekommen oder aber den falschen Gespr&auml;chspartner. Der erste und der dritte Parameter hat somit dieselbe Bedeutung wie bei der Funktion <span class="listing">connect()</span>, und der zweite Parameter enth&auml;lt die IP-Adresse und Portnummer, zu denen das Socket von nun an geh&ouml;rt. Bei Erfolg gibt auch hier die Funktion <span class="listing">bind()</span> 0, ansonsten bei einem Fehler -1 zur&uuml;ck.</p>
<p><span class="listing">bind()</span> ist f&uuml;r Clients nicht unbedingt notwendig, da dann automatisch eine Ausgangs-IP-Adresse und ein Ausgangsport genommen wird. Ausgangs-IP, da je nach Zieladresse per <span class="listing">connect()</span> (z. B. 134.76.13.21 oder 192.168.201.1) auf 134.76 oder 192.168:1025 (auch noch beliebiger freier Port) gebunden wird. Bei Serveranwendungen hingegen ist <span class="listing">bind()</span> n&ouml;tig, sonst ist das Socket ja nicht zu erreichen.</p>
<a name="t34"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t35"></a><h3 class="t3">11.6.4 Auf Verbindungen warten – listen() und accept()<a id="RxxKap110050400038A1F01B1C0" name="RxxKap110050400038A1F01B1C0"></a> 
      <a href="#t2t36"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><a href="#t2t34"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999449" name="Xxx999449"></a><a id="Xxx999450" name="Xxx999450"></a>Diese Funktion ist nur serverseitig sinnvoll. Mit der Funktion <span class="listing">listen()</span> setzen Sie das Socket in einen passiven Modus und teilen dem System mit, dass der (Server-)Prozess bereit ist, &uuml;ber dieses Socket eine Verbindung einzugehen. Damit wartet der Prozess quasi auf eine Verbindung (er lauscht am Socket). <a id="Xxx999452" name="Xxx999452"></a>Nat&uuml;rlich ist es auch m&ouml;glich, &uuml;ber einen Socket mehrere eintreffende Verbindungsw&uuml;nsche gleichzeitig entgegenzunehmen. Dabei wird eine Warteschlange eingerichtet, wo die neuen Verbindungsw&uuml;nsche hinten angef&uuml;gt werden.<a id="Xxx999453" name="Xxx999453"></a></p>
<pre>#include &lt;sys/types.h&gt;
#include &lt;sys/socket.h&gt;
int listen ( int sockfd, int warteschlange );</pre>
<p>Mit dem ersten Parameter geben Sie das Socket an, das »belauscht« werden soll. Als zweiten Parameter geben Sie die maximale Anzahl von Verbindungen an, die gleichzeitig entgegengenommen werden k&ouml;nnen. Wobei nat&uuml;rlich niemals mehr als eine Anfrage (Request) gleichzeitig abgearbeitet werden kann. Jede weitere Verbindung (ein <span class="listing">connect()</span> vom Client) wird also vorerst noch auf einen Stapel (Warteschlange) gelegt, dessen Gr&ouml;&szlig;e &uuml;ber <span class="listing">listen()</span> festgesetzt wird. Die Clientanwendung wird meistens dazu gen&ouml;tigt, so lange zu warten, bis der Server wieder frei ist. Dieser Vorgang wird auch als cachen bezeichnet. Die Anzahl der Verbindungen, die gleichzeitig gecachet werden k&ouml;nnen, geben Sie also mit dem zweiten Parameter von <span class="listing">listen()</span> an. Bei Erfolg gibt <span class="listing">listen()</span> 0, ansonsten bei einem Fehler -1 zur&uuml;ck.</p>
<p>Mit der Funktion <span class="listing">accept()</span> k&ouml;nnen Sie schlie&szlig;lich die noch wartenden oder eintreffenden Verbindungsaufbauw&uuml;nsche bearbeiten.<a id="Xxx999457" name="Xxx999457"></a><a id="Xxx999458" name="Xxx999458"></a><a id="Xxx999459" name="Xxx999459"></a></p>
<pre>#include &lt;sys/types.h&gt;
#include &lt;sys/socket.h&gt;
int accept ( int sockfd,
             struct sockaddr *adresse, 
             socklen_t *adressen_laenge );</pre>
<p>Durch einen erfolgreichen <span class="listing">accept()</span>-Aufruf wird ein neuer Socket-Deskriptor erzeugt, &uuml;ber den der aufrufende Prozess die Daten&uuml;bertragung durchf&uuml;hren kann. Der neue Socket-Deskriptor, der von der Funktion <span class="listing">accept()</span> zur&uuml;ckgegeben wird, erbt alle Eigenschaften des Sockets, das zuvor mit <span class="listing">listen()</span> »belauscht« wurde. Ein erfolgreicher Aufruf von <span class="listing">accept()</span> f&uuml;hrt auf der Gegenseite auch zu einem erfolgreichen Aufruf von <span class="listing">connect()</span> – was somit eine erfolgreiche TCP-Verbindung darstellen w&uuml;rde.</p>
<p>Als ersten Parameter erh&auml;lt <span class="listing">accept()</span> das Socket, das beim Erzeugen mittels <span class="listing">socket()</span> erstellt wurde. Der zweite Parameter enth&auml;lt die Adresse des Partnerprozesses, und der dritte Parameter enth&auml;lt die L&auml;nge (Speicherbedarf) des zweiten Parameters. Bei einem Fehler gibt <span class="listing">accept()</span>-1 und bei Erfolg, wie schon erw&auml;hnt, den Socket-Deskriptor des akzeptierten Sockets zur&uuml;ck.</p>
<a name="t35"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t36"></a><h3 class="t3">11.6.5 Senden und Empfangen von Daten (1) – write() und read()<a id="RxxKap110050400038A1F01B1C8" name="RxxKap110050400038A1F01B1C8"></a> 
      <a href="#t2t37"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><a href="#t2t35"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999464" name="Xxx999464"></a><a id="Xxx999465" name="Xxx999465"></a><a id="Xxx999466" name="Xxx999466"></a><a id="Xxx999467" name="Xxx999467"></a>Zum Senden und Empfangen von Daten k&ouml;nnen Sie auf die ganz gew&ouml;hnlichen Standardfunktionen zur&uuml;ckgreifen. Mit <span class="listing">write()</span> k&ouml;nnen Sie Daten an ein Socket verschicken, und mit <span class="listing">read()</span> k&ouml;nnen Sie die Daten wieder aus dem Socket lesen. Da die Funktionen <span class="listing">read()</span> und <span class="listing">write()</span> bereits ausf&uuml;hrlich behandelt wurden, kann ich mir hier eine weitere Erkl&auml;rung ersparen. Hier nochmals die Syntax der beiden Funktionen:<a id="Xxx999469" name="Xxx999469"></a><a id="Xxx999470" name="Xxx999470"></a></p>
<pre>#include &lt;unistd. h.&gt;
ssize_t write( int socketfd, const void *data,
               size_t data_len);
ssize_t read( int socketfd, void *data, size_t data_len );</pre>
<p>Bitte beachten Sie au&szlig;erdem, dass sich <span class="listing">read()</span> und <span class="listing">write()</span> bei TCP-Sockets anders verhalten. Bei normalen Daten k&ouml;nnen Sie (fast) beliebig angeben, wie viele Daten Sie auf einmal lesen oder schreiben wollen. Bei der Netzwerkprogrammierung sind diesbez&uuml;glich (Puffer-)Begrenzungen gesetzt. Ist diese bestimmte Puffergrenze erreicht, bricht der Lese- bzw. Schreibvorgang ab und muss erneut ausgef&uuml;hrt werden, um die noch vorhandenen Bytes zu lesen oder zu schreiben (das ist auch normalerweise bei <span class="listing">read()</span> der Fall, wenn z. B. ein Ger&auml;tetreiber in /dev weniger zur&uuml;ckgibt als <span class="listing">data_len</span>). Sie m&uuml;ssen praktisch den R&uuml;ckgabewert von <span class="listing">read()</span> &uuml;berpr&uuml;fen, ob tats&auml;chlich schon alle <span class="listing">n</span> Bytes (dritter Parameter) gelesen wurden – sonst kann (wird) es passieren, dass nicht alles gelesen wird. Mit <span class="listing">write()</span> verl&auml;uft dies recht &auml;hnlich.</p>
<a name="t36"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t37"></a><h3 class="t3">11.6.6 Senden und Empfangen von Daten (2) – send() und recv()<a id="RxxKap110050400038A1F01B1CC" name="RxxKap110050400038A1F01B1CC"></a> 
      <a href="#t2t38"><img src="common/down.gif" width="15" height="15" border="0" alt="down"></a><a href="#t2t36"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999474" name="Xxx999474"></a><a id="Xxx999475" name="Xxx999475"></a><a id="Xxx999476" name="Xxx999476"></a><a id="Xxx999477" name="Xxx999477"></a>Sofern Sie nicht unter Linux oder einem UNIX arbeiten, k&ouml;nnen Sie auch die Funktionsaufrufe <span class="listing">send()</span> zum Versenden von Daten und <span class="listing">recv()</span> zum Einlesen von Daten anstatt <span class="listing">write()</span> und <span class="listing">read()</span> verwenden. Der Hauptvorteil der Funktion <span class="listing">send()</span> und <span class="listing">recv()</span> liegt in der Portierung auf andere Systeme (z. B. MS Windows), wo die Funktionen <span class="listing">read()</span> und <span class="listing">write()</span> ausschlie&szlig;lich nur auf Dateien anwendbar sind. Die Funktionen <span class="listing">send()</span> und <span class="listing">recv()</span> unterscheiden sich von <span class="listing">read()</span> und <span class="listing">write()</span>, abgesehen von der Syntax, lediglich durch eine Angabe eines weiteren vierten Parameters. Zuerst die Syntax zu <span class="listing">send()</span>:<a id="Xxx999479" name="Xxx999479"></a></p>
<pre>#include &lt;sys/types.h&gt;
#include &lt;sys/socket.h&gt;
ssize_t send ( int socketfd, const void *data,
               size_t data_len, unsigned int flags );</pre>
<p>Mit dem ersten Parameter geben Sie das Socket an, mit dem die Daten gesendet werden sollen. Im zweiten Parameter befinden sich die Daten, die gesendet werden sollen, und im dritten die L&auml;nge dieser Daten. Im letzten Parameter k&ouml;nnen noch Flags gesetzt werden. Gew&ouml;hnlich wird hierf&uuml;r jedoch 0 angegeben. &Uuml;ber genauere Angaben zu den Flags lesen Sie bitte die entsprechende Manual Page. Die Funktion <span class="listing">send()</span> gibt die Anzahl der gesendeten Zeichen zur&uuml;ck oder bei einem Fehler -1.</p>
<p>Das Gegenst&uuml;ck zur Funktion <span class="listing">send()</span> ist die Funktion <span class="listing">recv()</span>:<a id="Xxx999482" name="Xxx999482"></a></p>
<pre>#include &lt;sys/types.h&gt;
#include &lt;sys/socket.h&gt;
ssize_t recv ( int socketfd, void *data ,
               size_t data_len, unsigned int flags );</pre>
<p>Als erster Parameter wird der Socket erwartet, aus dem die Daten empfangen werden sollen. Die Daten selbst werden in den Speicher bei <span class="listing">data</span> gelesen. Die L&auml;nge f&uuml;r <span class="listing">data</span> m&uuml;ssen Sie mit <span class="listing">data_len</span> angeben. Mit <span class="listing">data_len</span> geben Sie die Anzahl der zu lesenden Bytes an. Dabei ist die Angabe von <span class="listing">data_len</span> enorm wichtig, denn eine Angabe, die mehr Speicher beinhaltet, als f&uuml;r <span class="listing">data</span> zur Verf&uuml;gung steht, kann unweigerlich mit einem Buffer Overflow ausgenutzt werden kann. Auch hier wird f&uuml;r das Flag gew&ouml;hnlich 0 eingegeben. Mehr Informationen zu den Flags erhalten Sie auch hier unter man 2 recv. Die Funktion <span class="listing">recv()</span> gibt die Anzahl der empfangenen Bytes zur&uuml;ck oder bei einem Fehler -1.</p>
<p>Im Falle von <span class="listing">send()</span> und <span class="listing">recv()</span> gilt dieselbe Aussage wie schon bei <span class="listing">write()</span> und <span class="listing">read()</span>. Sie k&ouml;nnen sich auch hier nicht darauf verlassen, dass <span class="listing">send()</span> alle Daten auf einmal losschickt, sondern m&uuml;ssen auch hier durch &Uuml;berpr&uuml;fen des R&uuml;ckgabewertes abkl&auml;ren, ob ein erneuter Funktionsaufruf n&ouml;tig ist.</p>
<a name="t37"></a><br><div align="center"><a href="#top"><img src="common/top.gif" border="0" alt="Rheinwerk Computing"></a></div><a name="t2t38"></a><h3 class="t3">11.6.7 Verbindung schlie&szlig;en – close()<a id="RxxKap110050400038A1F01B1D4" name="RxxKap110050400038A1F01B1D4"></a> 
      <img src="common/15x15leer.gif" width="15" height="15" border="0" alt="top"><a href="#t2t37"><img src="common/top.gif" width="15" height="15" border="0" alt="top"></a></h3>
<p><a id="Xxx999488" name="Xxx999488"></a><a id="Xxx999489" name="Xxx999489"></a>Die Funktion <span class="listing">close()</span> k&ouml;nnen Sie dazu verwenden, um eine Verbindung des Sockets, unter der Angabe des Socket-Deskriptors, wieder zu schlie&szlig;en. Diese Funktion kennen Sie auch bereits aus Kapitel 2, weshalb hierzu nicht mehr viel zu sagen ist.<a id="Xxx999491" name="Xxx999491"></a></p>
<pre>#include &lt;unistd. h.&gt;
int close ( int sockfd );</pre>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="100%" class="start" colspan="1" height="22" align="center">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20%"><a class="navnav" href="Kap11-004.html"> &lt;&lt; zur&uuml;ck</a></td>
<td width="59%">
<div align="center"><a class="navnav" href="#">&lt;top&gt;</a></div>
</td>
<td align="right" width="20%">
<div align="right"><a class="navnav" href="Kap11-006.html">vor &gt;&gt; </a></div>
</td>
</tr>
</table>
</td>
</tr>
</table>
</div>
</td>
<td width="10" valign="top">&nbsp;&nbsp;</td>
<td width="160" valign="top">
    <table border="0" cellpadding="0" cellspacing="0" width="160">
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2">
                            &nbsp;<a href="https://www.rheinwerk-verlag.de/?GPP=oplup" class="navs">
                            <strong>Zum Katalog</strong></a>
                        </td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2">
                            <img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td><a href="https://www.rheinwerk-verlag.de/linux-unix-programmierung_1137/?GPP=oplup">
                                        <img src="common/749.gif"  border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux-UNIX-Programmierung" title="Zum Katalog: Linux-UNIX-Programmierung">
                                        <br /><strong>Linux-UNIX-<br />Programmierung</strong><br /><img src="common/pfeil_rechts5.gif" border="0" alt="">bestellen</a>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2"><strong>&nbsp;Ihre Meinung?</strong></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td>Wie hat Ihnen das &lt;openbook&gt; gefallen?<br /><a href="https://www.rheinwerk-verlag.de/feedback/"><img src="common/pfeil_rechts5.gif" border="0" alt="">Ihre Meinung</a>
                                    <br /><br /></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2">&nbsp;<a href="https://www.rheinwerk-verlag.de/?GPP=oplup" class="navs"><strong>Buchtipps</strong></a></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/linux-server_3685/?GPP=oplup">
                        <img src="common/3020.gif" width="78" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux-Server" title="Zum Katalog: Linux-Server"><br /><br /><br /><br /><br /><br /><br />&nbsp;Linux-Server</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/das-komplettpaket-lpic-1-lpic-2_3782/?GPP=oplup">
                        <img src="common/3529.gif" width="70" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Das Komplettpaket LPIC-1 &amp; LPIC-2" title="Zum Katalog: Das Komplettpaket LPIC-1 &amp; LPIC-2"><br /><br /><br /><br /><br /><br /><br />&nbsp;Das Komplettpaket<br />&nbsp;LPIC-1 &amp; LPIC-2</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/linux-hochverfugbarkeit_3420/?GPP=oplup">
                        <img src="common/2542.gif" width="70" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux-Hochverfügbarkeit" title="Zum Katalog: Linux-Hochverfügbarkeit"><br /><br /><br /><br /><br /><br /><br />&nbsp;Linux-<br />&nbsp;Hochverfügbarkeit</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/shell-programmierung_3345/?GPP=oplup">
                        <img src="common/2310.gif" width="69" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Shell-Programmierung" title="Zum Katalog: Shell-Programmierung"><br /><br /><br /><br /><br /><br /><br />&nbsp;Shell-<br />&nbsp;Programmierung</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="https://www.rheinwerk-verlag.de/linux_3436/?GPP=oplup">
                        <img src="common/2591.gif" width="79" height="100" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux Handbuch" title="Zum Katalog: Linux Handbuch"><br /><br /><br /><br /><br /><br /><br />&nbsp;Linux Handbuch</a><br /><br /></td>
                    </tr>
                </table></td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="tbl2" height="20" colspan="2"><strong>&nbsp;Shopping</strong></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl2" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td><b>Versandkostenfrei</b> bestellen in Deutschland und &Ouml;sterreich<br /><a href="https://www.rheinwerk-verlag.de/hilfe/bestellung_6?GPP=oplup"><img src="common/pfeil_rechts5.gif" border="0" alt="">Info</a><br /><br /></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</td>
</tr>
</table>
<br /><br />
<hr width="70%" align="center">
<br />
<div align="center">
    <p class="standard">
        <strong>Copyright © Rheinwerk Verlag GmbH 2006</strong>
        <br />F&uuml;r Ihren privaten Gebrauch d&uuml;rfen Sie die Online-Version nat&uuml;rlich 
        ausdrucken. Ansonsten unterliegt das &lt;openbook&gt; denselben Bestimmungen, 
        wie die gebundene Ausgabe: Das Werk einschlie&szlig;lich aller seiner Teile ist 
        urheberrechtlich gesch&uuml;tzt. Alle Rechte vorbehalten einschlie&szlig;lich der 
        Vervielf&auml;ltigung, &Uuml;bersetzung, Mikroverfilmung sowie Einspeicherung und 
        Verarbeitung in elektronischen Systemen.
    </p>
    <br><a href="https://www.rheinwerk-verlag.de/">[Rheinwerk Computing]</a>
    <br /><br />Rheinwerk Verlag GmbH, Rheinwerkallee 4, 53227 Bonn, 
    Tel.: 0228.42150.0, Fax 0228.42150.77, 
    <a href="mailto:service@rheinwerk-verlag.de">service@rheinwerk-verlag.de</a>
</div>
<br /><br />
</body>

<!-- Mirrored from openbook.rheinwerk-verlag.de/linux_unix_programmierung/Kap11-005.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 19 May 2017 19:57:38 GMT -->
</html>
